<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="This document defines technical guidance for INSPIRE Download Services">
<meta name="keywords" content="INSPIRE Download Services">
<meta name="author" content="Temporary MIWP 2021-2024 sub-group 2.3.1">
<meta name="copyright" content="Public">
<title>Technical Guidance for the implementation of INSPIRE Download Services</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p><span class="image"><img src="media/image1.png" alt="image" width="107" height="107"></span> <strong>INSPIRE</strong> <strong>Infrastructure for Spatial Information in Europe</strong></p>
</div>
<h1 id="_technical_guidance_for_the_implementation_of_inspire_download_services" class="discrete">Technical Guidance for the implementation of INSPIRE Download Services</h1>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 29%;">
<col style="width: 71%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Title</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical Guidance for the implementation of INSPIRE Download Services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Creator</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporary MIWP 2021-2024 sub-group 2.3.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date of publication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2023-07-31</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Subject</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INSPIRE Download Services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version 3.3.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Publisher</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INSPIRE Maintenance and Implementation Group (MIG)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This document defines technical guidance for INSPIRE Download Services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AsciiDoc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://creativecommons.org/licenses/by/4.0">Creative Commons Attribution (cc-by) 4.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rights</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Identifier</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://inspire.ec.europa.eu/id/document/tg/download-services/">Technical Guidance Download Services v3.3.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Changelog</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/INSPIRE-MIF/technical-guidelines/releases/tag/v2023.2" class="bare">https://github.com/INSPIRE-MIF/technical-guidelines/releases/tag/v2023.2</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Language</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">en</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Relation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission Regulation (EC) No 976/2009 of 19 October 2009 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards the Network Services</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<h2 id="_table_of_contents" class="discrete">Table of Contents</h2>
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#_acknowledgements">Acknowledgements</a></li>
<li><a href="#_foreword">Foreword</a></li>
<li><a href="#_revision_history">Revision History</a></li>
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_normative_references">2. Normative references</a></li>
<li><a href="#_terms_and_abbreviations">3. Terms and abbreviations</a>
<ul class="sectlevel2">
<li><a href="#_terms">3.1. Terms</a></li>
<li><a href="#_abbreviations">3.2. Abbreviations</a></li>
<li><a href="#_verbal_forms_for_the_expression_of_provisions">3.3. Verbal forms for the expression of provisions</a></li>
<li><a href="#_references">3.4. References</a></li>
<li><a href="#_future_updates_of_this_document">3.5. Future updates of this document</a></li>
</ul>
</li>
<li><a href="#_inspire_download_services">4. INSPIRE Download Services</a>
<ul class="sectlevel2">
<li><a href="#_how_the_technical_guidance_maps_to_the_implementing_rules">4.1. How the Technical Guidance maps to the Implementing Rules</a>
<ul class="sectlevel3">
<li><a href="#_mapping_the_atom_based_technical_guidance_to_the_implementing_rules">4.1.1. Mapping the Atom-based Technical Guidance to the Implementing Rules</a></li>
<li><a href="#_mapping_the_wfs_based_technical_guidance_to_the_implementing_rules">4.1.2. Mapping the WFS-based Technical Guidance to the Implementing Rules</a></li>
<li><a href="#_mapping_of_spatial_data_set_identifier_parameter">4.1.3. Mapping of Spatial Data Set Identifier parameter</a></li>
</ul>
</li>
<li><a href="#_conformance_classes_for_download_services_technical_guidance">4.2. Conformance Classes for Download Services Technical Guidance</a></li>
<li><a href="#_language_requirements">4.3. Language Requirements</a></li>
<li><a href="#_implementation_roadmap_for_download_services">4.4. Implementation Roadmap for Download Services</a>
<ul class="sectlevel3">
<li><a href="#_roadmap_for_non_interoperable_download_services">4.4.1. Roadmap for "non-interoperable" Download Services</a></li>
<li><a href="#_roadmap_for_interoperable_download_services">4.4.2. Roadmap for "interoperable" Download Services</a></li>
<li><a href="#_illustrative_roadmap_for_all_download_services">4.4.3. Illustrative Roadmap for all Download Services</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_atom_implementation_of_pre_defined_dataset_download_service">5. Atom Implementation of Pre-defined Dataset Download Service</a>
<ul class="sectlevel2">
<li><a href="#_atom_download_service_feed_containing_an_entry_for_a_pre_defined_dataset">5.1. Atom "Download Service Feed" containing an entry for a Pre-defined dataset</a>
<ul class="sectlevel3">
<li><a href="#_download_service_feed_feed_title_element">5.1.1. Download Service Feed: feed 'title' element</a></li>
<li><a href="#_download_service_feed_feed_subtitle_element">5.1.2. Download Service Feed: feed 'subtitle' element</a></li>
<li><a href="#_download_service_feed_feed_link_element_service_metadata">5.1.3. Download Service Feed: feed 'link' element – service metadata</a></li>
<li><a href="#_download_service_feed_feed_link_element_self_reference">5.1.4. Download Service Feed: feed 'link' element – self-reference</a></li>
<li><a href="#_download_service_feed_feed_link_element_opensearch_description_document">5.1.5. Download Service Feed: feed 'link' element – OpenSearch Description Document</a></li>
<li><a href="#_download_service_feed_feed_link_element_alternative_languages">5.1.6. Download Service Feed: feed 'link' element – alternative languages</a></li>
<li><a href="#_download_service_feed_feed_link_element_alternative_representation_formats">5.1.7. Download Service Feed: feed 'link' element – alternative representation formats</a></li>
<li><a href="#_download_service_feed_feed_id_element">5.1.8. Download Service Feed: feed 'id' element</a></li>
<li><a href="#_download_service_feed_feed_rights_element">5.1.9. Download Service Feed: feed 'rights' element</a></li>
<li><a href="#_download_service_feed_feed_updated_element">5.1.10. Download Service Feed: feed 'updated' element</a></li>
<li><a href="#_download_service_feed_feed_author_element">5.1.11. Download Service Feed: feed 'author' element</a></li>
<li><a href="#_download_service_feed_feed_entry_element">5.1.12. Download Service Feed: feed 'entry' element</a></li>
<li><a href="#_download_service_feed_entry_inspire_identifier_elements">5.1.13. Download Service Feed: entry INSPIRE identifier elements</a></li>
<li><a href="#_download_service_feed_entry_link_to_dataset_metadata_record">5.1.14. Download Service Feed: entry 'link' to dataset metadata record</a></li>
<li><a href="#_download_service_feed_entry_link_to_dataset_feed">5.1.15. Download Service Feed: entry 'link' to dataset feed</a></li>
<li><a href="#_download_service_feed_entry_link_to_wfs_implementation_only_for_hybrid_implementations">5.1.16. Download Service Feed: entry 'link' to WFS implementation (only for "hybrid implementations")</a></li>
<li><a href="#_download_service_feed_entry_additional_elements">5.1.17. Download Service Feed: entry, additional elements</a></li>
<li><a href="#_download_service_feed_entry_summary_element">5.1.18. Download Service Feed: entry 'summary' element</a></li>
<li><a href="#_download_service_feed_entry_georss_element">5.1.19. Download Service Feed: entry 'georss' element</a></li>
<li><a href="#_download_service_feed_entry_category_element_crss">5.1.20. Download Service Feed: entry 'category' element – CRSs</a></li>
</ul>
</li>
<li><a href="#_atom_dataset_feed_containing_download_links_to_a_pre_defined_dataset">5.2. Atom "Dataset feed" containing download links to a pre-defined dataset</a>
<ul class="sectlevel3">
<li><a href="#_dataset_feed_link_element_link_to_spatial_object_descriptions">5.2.1. Dataset Feed: 'link' element: link to Spatial Object descriptions</a></li>
<li><a href="#_dataset_feed_optional_link_element_link_to_download_feed">5.2.2. Dataset Feed: optional 'link' element: link to Download feed</a></li>
<li><a href="#_dataset_feed_entry_link_element_link_to_pre_defined_dataset">5.2.3. Dataset Feed: Entry 'link' element: link to pre-defined dataset</a></li>
<li><a href="#_dataset_feed_guidance_for_datasets_which_contain_multiple_files">5.2.4. Dataset Feed: guidance for datasets which contain multiple files.</a></li>
<li><a href="#_dataset_feed_guidance_on_media_types">5.2.5. Dataset Feed: guidance on media types</a></li>
<li><a href="#_dataset_feed_entry_georss_element">5.2.6. Dataset Feed: entry 'georss' element</a></li>
<li><a href="#_dataset_feed_entry_category_element">5.2.7. Dataset Feed: entry 'category' element</a></li>
</ul>
</li>
<li><a href="#_language_requirements_for_atom_implementation">5.3. Language Requirements for Atom Implementation</a></li>
<li><a href="#_opensearch_document_structure">5.4. OpenSearch Document structure.</a>
<ul class="sectlevel3">
<li><a href="#_opensearch_description_url_element_link_to_self">5.4.1. OpenSearch Description: 'Url' element: link to self</a></li>
<li><a href="#_opensearch_description_generic_search_template">5.4.2. OpenSearch Description: Generic search template</a></li>
<li><a href="#_opensearch_description_describe_spatial_data_set_operation_template">5.4.3. OpenSearch Description: Describe Spatial Data Set Operation template</a></li>
<li><a href="#_opensearch_description_get_spatial_data_set_operation_template">5.4.4. OpenSearch Description: Get Spatial Data Set Operation template</a></li>
<li><a href="#_opensearch_description_spatial_dataset_identifiers">5.4.5. OpenSearch Description: Spatial Dataset Identifiers</a></li>
<li><a href="#_opensearch_description_available_languages">5.4.6. OpenSearch Description: Available Languages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_web_feature_service_and_filter_encoding_implementation_of_pre_defined_dataset_download_service">6. Web Feature Service and Filter Encoding Implementation of Pre-defined Dataset Download Service</a>
<ul class="sectlevel2">
<li><a href="#_conformance_to_iso_19142_simple_wfs_conformance_class">6.1. Conformance to ISO 19142 'Simple WFS' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_query_conformance_class">6.2. Conformance to ISO 19143 'Query' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19142_http_get_conformance_class">6.3. Conformance to ISO 19142 'HTTP GET' Conformance Class</a></li>
<li><a href="#_stored_query_support">6.4. Stored Query Support</a></li>
<li><a href="#_inspire_datasets_and_wfs_features">6.5. INSPIRE Datasets and WFS Features</a></li>
<li><a href="#_publishing_inspire_metadata_using_owsextendedcapabilities">6.6. Publishing INSPIRE metadata using ows:ExtendedCapabilities</a></li>
<li><a href="#_language_requirements_for_wfsfe_implementation_of_pre_defined_download">6.7. Language Requirements for WFS/FE Implementation of Pre-defined Download.</a>
<ul class="sectlevel3">
<li><a href="#_getcapabilities_operation_language_requirements">6.7.1. GetCapabilities-Operation (language requirements)</a></li>
<li><a href="#_common_concept_for_other_operations_optional">6.7.2. Common concept for other operations (optional)</a></li>
<li><a href="#_language_support_in_ows">6.7.3. Language support in OWS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_web_feature_service_and_filter_encoding_implementation_of_direct_access_download_service">7. Web Feature Service and Filter Encoding implementation of Direct Access Download Service.</a>
<ul class="sectlevel2">
<li><a href="#_necessary_elements_from_wfs_based_pre_defined_dataset_download_service">7.1. Necessary elements from WFS-based Pre-defined dataset download service</a></li>
<li><a href="#_conformance_to_iso_19142_basic_wfs_conformance_class">7.2. Conformance to ISO 19142 'Basic WFS' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_ad_hoc_query_conformance_class">7.3. Conformance to ISO 19143 'Ad hoc Query' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_resource_identification_conformance_class">7.4. Conformance to ISO 19143 'Resource Identification' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_minimum_standard_filter_conformance_class">7.5. Conformance to ISO 19143 'Minimum Standard Filter' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_minimum_spatial_filter_conformance_class">7.6. Conformance to ISO 19143 'Minimum Spatial Filter' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_minimum_temporal_filter_conformance_class">7.7. Conformance to ISO 19143 'Minimum Temporal Filter' Conformance Class</a></li>
<li><a href="#_conformance_to_iso_19143_minimum_xpath_conformance_class">7.8. Conformance to ISO 19143 'Minimum XPath' Conformance Class</a></li>
<li><a href="#_language_requirements_for_direct_access_download_services">7.9. Language requirements for Direct Access Download Services</a>
<ul class="sectlevel3">
<li><a href="#_describefeaturetype_operation_language_requirements">7.9.1. DescribeFeatureType Operation (language requirements)</a></li>
<li><a href="#_getfeature_operation_language_requirements">7.9.2. GetFeature Operation (language requirements)</a></li>
</ul>
</li>
<li><a href="#_wfs_metadata_for_hybrid_implementations">7.10. WFS metadata for "hybrid implementations"</a></li>
</ul>
</li>
<li><a href="#_quality_of_service">8. Quality of Service</a>
<ul class="sectlevel2">
<li><a href="#_general_requirements">8.1. General requirements</a></li>
<li><a href="#_performance">8.2. Performance</a>
<ul class="sectlevel3">
<li><a href="#_implementation_requirements_mandated_by_the_implementing_rule">8.2.1. Implementation requirements mandated by the Implementing Rule</a></li>
<li><a href="#_normalized_testing_procedure">8.2.2. Normalized testing procedure</a></li>
</ul>
</li>
<li><a href="#_capacity">8.3. Capacity</a>
<ul class="sectlevel3">
<li><a href="#_implementation_requirements_mandated_by_the_implementing_rule_2">8.3.1. Implementation requirements mandated by the Implementing Rule</a></li>
<li><a href="#_normalized_testing_procedure_2">8.3.2. Normalized testing procedure</a></li>
</ul>
</li>
<li><a href="#_availability">8.4. Availability</a>
<ul class="sectlevel3">
<li><a href="#_implementation_requirements_mandated_by_the_implementing_rule_3">8.4.1. Implementation requirements mandated by the Implementing Rule</a></li>
<li><a href="#_normalized_testing_procedure_3">8.4.2. Normalized testing procedure</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_example_opensearch_script">Annex A: Example OpenSearch script</a></li>
<li><a href="#_uml_atomopensearch_deployment_diagram">Annex B: UML Atom/OpenSearch Deployment Diagram</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect1">
<h2 id="_acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many individuals and organisations have contributed to the development of these Guidelines.</p>
</div>
<div class="paragraph">
<p>The Network Services Drafting Team responsible for the Technical Guidance v2.0 included: Jean-Jacques Serrano, Graham Vowles, Olaf Østensen, Didier Richard, Markus Müller, Lars Bernard, Michel Grothe, Marek Brylski, Lassi Lehto, Christian Elfers, Roland-Michael Wagner, Dominique Flandroit, Tapani Sarjakoski.</p>
</div>
<div class="paragraph">
<p>The Initial Operating Capability Task Force has assumed responsibility of the Technical Guidance document following v2.0 and an IOC TF Service Team was tasked to update the Technical Guidance Document. The following members of the Initial Operating Capability Task Force or the Initial Operating Capability Task Force Service Team have greatly contributed to this version: Anders Friis-Christensen (DK), Bart Cosyn (BE), Andreas von Dömming (DE), Timothy Duffy (UK), Jani Kylmäaho (FI), Gianluca Luraschi (EMSA), Clemens Portele (DE), Didier Richard (FR), Wolfgang Tinkl (AT).</p>
</div>
<div class="paragraph">
<p>The team at the Joint Research Centre of the European Commission that contributed to this version of the guidelines includes: Michele Chinosi, Ioannis Kanellopoulos, Michel Millot, Angelo Quaglia, Michael Lutz and Alexander Kotsev.</p>
</div>
<div class="paragraph">
<p>We are grateful to all the IOC Task Force Members who through their careful reviews and comments helped to correct a number of issues and made a valuable contribution to this edition.</p>
</div>
<div class="paragraph">
<p>Special thanks go to Dominic Lowe (UK) for the tremendous job he did in editing version 3.0 of the guidelines.</p>
</div>
<div class="paragraph">
<p>Finally we would like to thank Debbie Wilson from Snowflake Software for her comments and suggestions to version 3.0.</p>
</div>
<div class="paragraph">
<p><strong>Contact information</strong></p>
</div>
<div class="paragraph">
<p>Michael Lutz<br>
European Commission<br>
Joint Research Centre<br>
Institute for Environment and Sustainability<br>
TP262, Via Fermi 2749<br>
I-21027 Ispra (VA)<br>
ITALY<br>
E-mail: <a href="mailto:michael.lutz@jrc.ec.europa.eu">michael.lutz@jrc.ec.europa.eu</a><br>
Tel.: 39-0332-786759<br>
<a href="http://ec.europa.eu/dgs/jrc/" class="bare">http://ec.europa.eu/dgs/jrc/</a><br>
<a href="http://inspire.jrc.ec.europa.eu/" class="bare">http://inspire.jrc.ec.europa.eu/</a></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_foreword">Foreword</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Directive 2007/2/EC of the European Parliament and of the Council [<strong>Directive 2007/2/EC</strong>], adopted on 14 March 2007 aims at establishing an Infrastructure for Spatial Information in the European Community (INSPIRE) for environmental policies, or policies and activities that have an impact on the environment. INSPIRE will make available relevant, harmonised and quality geographic information to support the formulation, implementation, monitoring and evaluation of policies and activities, which have a direct or indirect impact on the environment.</p>
</div>
<div class="paragraph">
<p>INSPIRE is based on the infrastructures for spatial information established and operated by the 27 Member States of the European Union. The Directive addresses 34 spatial data themes needed for environmental applications, with key components specified through technical implementing rules. This makes INSPIRE a unique example of a legislative "regional" approach.</p>
</div>
<div class="paragraph">
<p>To ensure that the spatial data infrastructures of the Member States are compatible and usable in a Community and trans-boundary context, the Directive requires that common Implementing Rules (IR) are adopted in the following areas.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Metadata;</p>
</li>
<li>
<p>The interoperability and harmonisation of spatial data and services for selected themes (as described in Annexes I, II, III of the Directive);</p>
</li>
<li>
<p>Network Services;</p>
</li>
<li>
<p>Measures on sharing spatial data and services;</p>
</li>
<li>
<p>Co-ordination and monitoring measures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Implementing Rules are adopted as Commission Decisions or Regulations, and are binding in their entirety.</p>
</div>
<div class="paragraph">
<p>In particular with respect the Network Services, Implementing Rules are required for the following services (Article 11(1) of the Directive):</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>"discovery services search for spatial datasets and spatial data services on the basis of the content of corresponding metadata, and display the metadata content;</em></p>
</li>
<li>
<p><em>view services as a minimum, display, navigate, zoom in/out, pan, or overlay spatial datasets and display legend information and any relevant content of metadata;</em></p>
</li>
<li>
<p><em>download services enabling copies of complete spatial datasets, or of parts of such sets, to be downloaded;</em></p>
</li>
<li>
<p><em>transformation services enabling spatial datasets to be transformed with a view to achieving interoperability;</em></p>
</li>
<li>
<p><em>invoke spatial data services" enabling data services to be invoked."</em></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In addition to the Implementing Rules, non-binding Technical Guidance documents describe detailed implementation aspects and relations with existing standards, technologies, and practices. They may need to be revised during the course of implementing the infrastructure to take into account the evolution of technology, new requirements, and cost benefit considerations. Figure 1. illustrates the relationship between the INSPIRE Regulations containing Implementing Rules and their corresponding Technical Guidance documents.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image2.png" alt="image" width="605" height="367">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 1: Relationship between INSPIRE Implementing Rules and Technical Guidance</strong></p>
</div>
<div class="paragraph">
<p>Technical Guidance documents define how Member States might implement the Implementing Rules described in a Commission Regulation. Technical Guidance documents may include non-binding technical requirements that must be satisfied if a Member State chooses to conform to the Technical Guidance. Implementing this technical guidance will maximise the interoperability of INSPIRE services.</p>
</div>
<div class="paragraph">
<p>This Technical Guidance concerns the INSPIRE Download Services. The Technical Guidance contains detailed technical documentation highlighting the mandatory and the recommended elements related to the implementation of INSPIRE Download Services. The technical provisions and the underlying concepts are often illustrated by use case diagrams and accompanied by examples.</p>
</div>
<div class="paragraph">
<p><em>Note that while the guidance in this document meets all the download service requirements for Annex I themes it may not be so suitable for some of the data in Annex II and III themes. If later data specifications relating to Annex II or Annex III themes should require additional functionality, like those covered by the OGC Web Coverage Service (WCS) or the OGC Sensor Observation Service (SOS), this Technical Guidance document will be extended accordingly. Likewise, other implementations (e.g. Linked Data) may be considered in future extensions of this Technical Guidance.</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">This document will be publicly available as a 'non-paper', as it does not represent an official position of the Commission, and as such cannot be invoked in the context of legal procedures.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Legal Notice</strong></p>
</div>
<div class="paragraph">
<p>Neither the European Commission nor any person acting on behalf of the Commission is responsible for the use which might be made of this publication.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history">Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Date</strong></th>
<th class="tableblock halign-left valign-top"><strong>Release</strong></th>
<th class="tableblock halign-left valign-top"><strong>Editor</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Sep 2009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Services Drafting Team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draft Technical Guidance (Published)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14 Dec 2011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Aligned structure with View and Download guidance.</p>
</div>
<div class="paragraph">
<p>Added Atom guidance and mappings.</p>
</div>
<div class="paragraph">
<p>General editorial changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9 Jan 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Major restructuring following IOC TF meeting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Jan 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Further Atom guidance and WFS guidance. General editorial changes and formatting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 Feb 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Editing following teleconference and review by IOC TF members. Significant edits to Atom section. Restructured language requirements. Added table of WFS to IR mapping.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Feb 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numerous detail edits in preparation for wider review. Added implementation roadmap diagram and extended capabilities section.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Feb 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Substantially revised mapping to IR section. Fixed issues with numbering of requirements and recommendations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">02 Apr 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interim version for internal review, following 2.6 consultation. Major changes to Atom chapter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">05 Apr 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Added OpenSearch section, addressed many outstanding comments, Added section on Media types/compression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">03 May 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Many editorial changes and clarifications, changes to GeoRSS, OpenSearch sections, Diagrams.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">04 May 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0rc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updated milestones. Edits in response to JRC comments.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Jun 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0rc2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edited in response to IOC TF comments.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 Jun 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor final corrections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 Jul 2012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominic Lowe</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Corrected georss:polygon coordinates in examples Example 2:, Example 12: and Example 20: as follows:</p>
</div>
<div class="paragraph">
<p>&lt;georss:polygon&gt;47.202 5.755 55.183 5.755 55.183 15.253 47.202 15.253 47.202 5.755 &lt;/georss:polygon&gt;</p>
</div>
<div class="paragraph">
<p>Section 5.4, Example 35: (previously not numbered), OpenSearch Description document:</p>
</div>
<div class="paragraph">
<p>Changed from:<br>
&lt;Url type="application/atom+xml" rel="results" template="http://xyz.org/search.php?q={searchTerms}"/&gt;</p>
</div>
<div class="paragraph">
<p>to:<br>
&lt;Url type="text/html" rel="results" template="http://xyz.org/search.php?q={searchTerms}"/&gt;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21 Feb 2013</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ioannis Kanellopoulos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Added Chapter 8 on Quality of Services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9 Aug 2013</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Angelo Quaglia, Michael Lutz, Alexander Kotsev</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updated sections 4 and 4.2 to enable the possibility of a "hybrid implementation" based on Atom for Part A and WFS for Parts B and C.</p>
</div>
<div class="paragraph">
<p>Added pointer to the demo instance of an Atom based Download Service at the beginning of Chapter 5.</p>
</div>
<div class="paragraph">
<p>Changed "application/vnd.iso.19139xml" to "application/xml" in text and examples in section 5.1.3.</p>
</div>
<div class="paragraph">
<p>Added note on metadata in Atom and WFS for "hybrid implementations" in section 5.1.3.</p>
</div>
<div class="paragraph">
<p>Added motivation for html alternative representation in section 5.1.7.</p>
</div>
<div class="paragraph">
<p>Removed reference to "application/vnd.ogc.csw.GetRecordByIdResponse_xml" in TG Requirement 6.</p>
</div>
<div class="paragraph">
<p>Added new sub-section 5.1.16. Download Service Feed: entry 'link' to WFS implementation, valid for hybrid implementations only.</p>
</div>
<div class="paragraph">
<p>Added explanation about how the OpenSearch document is introduced to satisfy the Network Service Regulation and about the fact that no requirements are placed on the technology used to implement the search script. Added note about the fact that the sample script uses content negotiation in section 5.4.</p>
</div>
<div class="paragraph">
<p>Extended section 5.4.2 on the generic search template; changed type to "text/html" in TG Requirement 41.</p>
</div>
<div class="paragraph">
<p>Explained machine-to-machine interaction for the Describe Spatial Data Set operation in section 5.4.3.</p>
</div>
<div class="paragraph">
<p>Added default values for CRS and language parameters in section 5.4.5, TG Requirement 43 and Example 40:.</p>
</div>
<div class="paragraph">
<p>Changed language code 'en-GB' to 'en' in Example 43:.</p>
</div>
<div class="paragraph">
<p>Changed 'application/zip' to 'application/x-filegdb' in Example 35:, Example 40: and Annex A.</p>
</div>
<div class="paragraph">
<p>Added 'Croatian' language in Table 1 and Table 2.</p>
</div>
<div class="paragraph">
<p>Added recommendation for single Stored Query with predefined identifier in Chapter 6.4 "Stored Query Support".</p>
</div>
<div class="paragraph">
<p>Modified TG Requirement 51 to include 'DataSetIdCode' and 'DataSetIdNamespace' parameters instead of the previously existing 'DataSetId'.</p>
</div>
<div class="paragraph">
<p>Added requirement for WFS-based Predefined data set download services that they only serve one data set per endpoint in Chapter 6.5 "INSPIRE Datasets and WFS Features".</p>
</div>
<div class="paragraph">
<p>Removed dependency of Conformance class 3 on conformance class 2 in section 7 and TG Requirement 61.</p>
</div>
<div class="paragraph">
<p>Moved subsections 6.2.2 "DescribeFeatureType Operation (language requirements)" and 6.6.3 "GetFeature Operation (language requirements" to Chapter 7.9.</p>
</div>
<div class="paragraph">
<p>Added new sub-section 7.10 for WFS metadata in case of hybrid Atom/WFS implementations.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Directive 2007/2/EC of the European Parliament and of the Council of 14 March 2007 establishing an Infrastructure for Spatial Information in the European Community (INSPIRE) was published in the official Journal on the 25th April 2007. The INSPIRE Directive entered into force on the 15th May 2007.</p>
</div>
<div class="paragraph">
<p>The purpose of the infrastructure is to enable the formulation, implementation, monitoring activities and evaluation of Community environmental policies at all levels – European, national and local – and to provide public information.</p>
</div>
<div class="paragraph">
<p>INSPIRE builds on the infrastructures for spatial information that have already been created by the Member States. The components of those infrastructures include: metadata, spatial data themes (as described in Annexes I, II, III of the Directive), network services and technologies; agreements on data sharing, access and use; coordination and monitoring mechanisms, processes and procedures.</p>
</div>
<div class="paragraph">
<p>The guiding principles of INSPIRE are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>that the infrastructures for spatial information in the Member States should be designed to ensure that spatial data are stored, made available and maintained at the most appropriate level;</p>
</li>
<li>
<p>that it is possible to combine spatial data from different sources across the Community in a consistent way and share them between several users and applications;</p>
</li>
<li>
<p>that it is possible for spatial data collected at one level of public authority to be shared between all the different levels of public authorities;</p>
</li>
<li>
<p>that spatial data are made available under conditions that do not restrict their extensive use; and</p>
</li>
<li>
<p>that it is easy to discover available spatial data, to evaluate their fitness for purpose and to know the conditions applicable to their use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The text of the INSPIRE Directive is available from available from the European Union Law website (EU-LEX) <a href="http://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CELEX:32007L0002:EN:NOT" class="bare">http://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CELEX:32007L0002:EN:NOT</a>. The Directive identifies what needs to be achieved, and Member States have two years from the date of adoption to bring into force national legislation, regulations, and administrative procedures that define how the agreed objectives will be met taking into account the specific situation of each Member State. To ensure that the spatial data infrastructures of the Member States are compatible and usable in a Community and trans-boundary context, the Directive requires that common Implementing Rules (IR) are adopted in a number of specific areas. Implementing Rules are adopted as Commission Decisions, and are binding in their entirety.</p>
</div>
<div class="paragraph">
<p>According to Article 5(4) of the Directive, the INSPIRE Implementing Rules shall take account of relevant, existing international standards and user requirements.</p>
</div>
<div class="paragraph">
<p>The scope of this document is to detail the INSPIRE technical requirements for <strong>Download Services</strong> from the Implementing Rules, such that these services can be implemented consistently across Europe.</p>
</div>
<div class="paragraph">
<p>These Implementing Rules are, as much as possible, in conformance with European and international standards, current practices in stakeholder communities and relevant European initiatives such as e‑Government, and the EU interoperability framework.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_normative_references">2. Normative references</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following referenced documents are indispensable for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.</p>
</div>
<div class="paragraph">
<p>INSPIRE, Implementing Directive 2007/2/EC of the European Parliament and of the Council as regards interoperability of spatial datasets and services, <strong>INSPIRE Directive</strong></p>
</div>
<div class="paragraph">
<p>IETF RFC 4287 The Atom Syndication Format, <strong>ATOM</strong></p>
</div>
<div class="paragraph">
<p>GeoRSS-Simple The Simple Serialization of GeoRSS, <a href="http://www.georss.org/simple" class="bare">http://www.georss.org/simple</a> <strong>GeoRSS</strong></p>
</div>
<div class="paragraph">
<p>OpenSearch Description Document format, <a href="http://www.opensearch.org/Specifications/OpenSearch/1.1" class="bare">http://www.opensearch.org/Specifications/OpenSearch/1.1</a> <strong>OpenSearch</strong></p>
</div>
<div class="paragraph">
<p>ISO 19142:2010 Geographic information&#8201;&#8212;&#8201;Web Feature Service, <strong>ISO 19142</strong></p>
</div>
<div class="paragraph">
<p>ISO 19143:2010 Geographic information&#8201;&#8212;&#8201;Filter encoding, <strong>ISO 19143</strong></p>
</div>
<div class="paragraph">
<p>INSPIRE Network Services Regulation, <strong>INS NS,</strong> COMMISSION REGULATION (EU) No 976/2009 of 23 November 2010 as amended by Regulation (EC) No 1088/2010 as regards download services and transformation services</p>
</div>
<div class="paragraph">
<p>INSPIRE Metadata Regulation, <strong>INS MD,</strong> COMMISSION REGULATION (EC) No 1205/2008 of 3 December 2008 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards metadata. See also Corrigendum to INSPIRE Metadata Regulation.</p>
</div>
<div class="paragraph">
<p>INSPIRE Metadata Implementing Rules, <strong>IR MDTG,</strong> Guidelines based on EN ISO 19115 and EN ISO 19119 for Commission Regulation (EC) No 1205/2008 of 3 December 2008 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards metadata</p>
</div>
<div class="paragraph">
<p>INSPIRE spatial datasets and services Regulation, <strong>INS SDS,</strong> COMMISSION REGULATION (EU) No 1089/2010 of 23 November 2010 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards interoperability of spatial datasets and services</p>
</div>
<div class="paragraph">
<p>W3C Protocol for Web Description Resources (POWDER): Description Resources, <a href="http://www.w3.org/TR/powder-dr/" class="bare">http://www.w3.org/TR/powder-dr/</a>, <strong>POWDER</strong></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_abbreviations">3. Terms and abbreviations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_terms">3.1. Terms</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><strong>download services</strong><br>
enabling copies of spatial datasets, or parts of such sets, to be downloaded and, where practicable, accessed directly [INSPIRE Directive]</p>
</li>
<li>
<p><strong>INSPIRE registry</strong><br>
the official registry containing definitions for terms and feature concepts in INSPIRE. <a href="http://inspire-registry.jrc.ec.europa.eu/" class="bare">http://inspire-registry.jrc.ec.europa.eu/</a></p>
</li>
<li>
<p><strong>metadata</strong><br>
information describing spatial datasets and spatial data services and making it possible to discover, inventory and use them [INSPIRE Directive]</p>
</li>
<li>
<p><strong>network services</strong><br>
network services should make it possible to discover, transform, view and download spatial data and to invoke spatial data and e-commerce services [INSPIRE Directive]</p>
</li>
<li>
<p><strong>spatial data</strong><br>
data with a direct or indirect reference to a specific location or geographic area [INSPIRE Directive]</p>
</li>
<li>
<p><strong>spatial dataset</strong><br>
identifiable collection of spatial data [INSPIRE Directive]</p>
</li>
<li>
<p><strong>dataset</strong><br>
short term sometimes used instead of 'spatial dataset', same meaning as 'spatial dataset'.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_abbreviations">3.2. Abbreviations</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14%;">
<col style="width: 86%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate Reference System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter Encoding, referring to ISO 19143</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoRSS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoRSS-Simple</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Get Method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geography Markup Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hypertext Transfer Protocol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INSPIRE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infrastructure for Spatial Information in Europe</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementing Rule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">International Organisation for Standardisation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JRC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joint Research Centre</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OWS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC Web Services Common Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Feature Service, referring to ISO 19142</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_verbal_forms_for_the_expression_of_provisions">3.3. Verbal forms for the expression of provisions</h3>
<div class="paragraph">
<p>In accordance with the ISO rules for drafting, the following verbal forms shall be interpreted in the given way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"shall" / "shall not": a requirement, mandatory to comply with the technical guidance</p>
</li>
<li>
<p>"should" / "should not": a recommendation, but an alternative approach may be chosen for a specific case if there are reasons to do so</p>
</li>
<li>
<p>"may" / "need not": a permission</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Technical Guidance Conformance Classes notation</strong></p>
</div>
<div class="paragraph">
<p>The Technical Guidance in this document is divided into Conformance Classes, so that it is possible to declare conformance to specific parts of the Technical Guidance. <em>To conform to a Conformance Class it is necessary to meet all of the Requirements (see next section) in that Conformance Class.</em></p>
</div>
<div class="paragraph">
<p>Conformance Classes are identified in the document as follows:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">📘</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Conformance Class #: [TITLE]</strong><br>
conformance classes are shown using this style</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Technical Guidance Requirements and Recommendations notation</strong></p>
</div>
<div class="paragraph">
<p>Requirements and the recommendations for INSPIRE Download Services within this technical guidance are highlighted and numbered as shown below:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement #</strong><br>
requirements are shown using this style</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation #</strong><br>
recommendations are shown using this style.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is important to note that, implementation requirements and implementation recommendations may refer to either service or client implementations. Requirements and recommendations belong to the conformance class in which they are found in this document.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: It is worth noting that requirements as specified in the INSPIRE Regulations and Implementing Rules are legally binding, and that requirements and recommendations as specified in INSPIRE Technical Guidance are <strong>not</strong> legally binding. Therefore, within this technical guidance we have used the terms 'TG requirement' and 'TG recommendation' to indicate what is technically required or recommended to conform to the Technical Guidance.</p>
</div>
<div class="paragraph">
<p><strong>XML Example notation</strong></p>
</div>
<div class="paragraph">
<p>XML Examples are shown using Courier New on a grey background with yellow for emphasis as below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;inspire:example&gt;
  &lt;inspire:highlight&gt;
    Highlighted Text for emphasis
  &lt;/inspire:highlight&gt;
&lt;/inspire:example&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: XML Examples are informative and are provided for information only and are expressly not normative.</p>
</div>
</div>
<div class="sect2">
<h3 id="_references">3.4. References</h3>
<div class="paragraph">
<p>References within this document are denoted using "Section" or "Annex". For example, Section 5.3.1 or Annex A.</p>
</div>
<div class="paragraph">
<p>References to other documents refer to the list of normative references in Section 3 and use the abbreviated title as indicated in <strong>Bold</strong> text. For example, [<strong>INS NS</strong>] uses the abbreviated title for the document as shown below:</p>
</div>
<div class="paragraph text-center">
<p>INSPIRE Network Services Regulation, <strong>INS NS,</strong> COMMISSION REGULATION (EU) No 1088/2010 of 23 November 2010 amending Regulation (EC) No 976/2009 as regards download services and transformation services</p>
</div>
<div class="paragraph">
<p>References within other documents are show as above using the abbreviated title, together with the appropriate section within the document. For example, [<strong>INS NS,</strong> Section 2.2.3], refers to Section 2.2.3 within the document as listed above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_future_updates_of_this_document">3.5. Future updates of this document</h3>
<div class="paragraph">
<p>There are some issues that are foreseen, but are not covered or only partially covered in this version of the Technical Guidance.</p>
</div>
<div class="paragraph">
<p>These are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pre-defined download of datasets contained in multiple physical files.</p>
<div class="ulist">
<ul>
<li>
<p>Although some provision for multiple links is given in the current Atom guidance, it is foreseen that this solution may not be scalable for very large numbers of files and also that there is no way to provide metadata for individual files (e.g. geographic, temporal coverage). Other solutions will be explored.</p>
</li>
</ul>
</div>
</li>
<li>
<p>More WFS examples for Stored Queries and Direct Download.</p>
</li>
<li>
<p>Guidance for Spatial Object Types that may be more suited to delivery via Web Coverage Services or Sensor Observation Services.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inspire_download_services">4. INSPIRE Download Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document provides Technical Guidance for the implementation of technical service interfaces for INSPIRE Download Services. This guidance is based on the abstract model established in the INSPIRE Network Services Regulation [<strong>INS NS</strong>].</p>
</div>
<div class="paragraph">
<p>The Network Services Regulation describes the following four download operations [<strong>INS NS</strong>, Annex IV, Part A] that <em>must</em> be implemented by Download Services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Get Download Service Metadata</p>
</li>
<li>
<p>Get Spatial Dataset</p>
</li>
<li>
<p>Describe Spatial Dataset</p>
</li>
<li>
<p>Link Download Service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Network Services Regulation also states that <em>where practicable</em>, the following two operations [<strong>INS NS</strong>, Annex IV, Part B] <em>shall</em> be implemented by Download Services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Get Spatial Object</p>
</li>
<li>
<p>Describe Spatial Object Type</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, <em>if</em> the <em>Get Spatial Object</em> and <em>Describe Spatial Object Type</em> operations are implemented then particular search capabilities [<strong>INS NS</strong>, Annex IV, Part C] shall also be implemented. These capabilities include the ability to search by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>URI of Spatial Dataset</p>
</li>
<li>
<p>Key attributes of spatial objects, including URI and date/time of update</p>
</li>
<li>
<p>Bounding Box</p>
</li>
<li>
<p>Spatial data theme</p>
</li>
<li>
<p>Combinations of the above</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In practice therefore, this means there are <em>two</em> types of Download Services that may be implemented; those that satisfy the minimum functional requirements from the Regulation [<strong>INS NS</strong>, Annex IV, Part A] and those that satisfy the full functional requirements [<strong>INS NS</strong>, Annex IV, Parts A, B &amp; C]. As stated in the Regulation, the later should be implemented <em>where practicable</em>.</p>
</div>
<div class="paragraph">
<p>For the remainder of this document these two types of Download Service are referred to as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Pre-defined dataset download service(s)";</p>
<div class="paragraph text-rigth">
<p><em>A pre-defined dataset download service provides for the simple download of pre-defined datasets (or pre-defined parts of a dataset) with no ability to query datasets or select user-defined subsets of datasets. A pre-defined dataset or a pre-defined part of a dataset could be (for example) a file stored in a dataset repository, which can be downloaded as a complete unity with no possibility to change content, whether encoding, the CRS of the coordinates, etc.</em></p>
</div>
</li>
<li>
<p>"Direct access download service(s)";</p>
<div class="paragraph text-rigth">
<p><em>A direct access download service extends the functionality of a pre-defined dataset download service to include the ability to query and download subsets of datasets. The direct access download service allows more control over the download than the simple download of a pre-defined dataset or pre-defined part of a dataset. It can therefore be considered to be more 'advanced' than pre-defined dataset download. In this case, the spatial information is typically stored in a repository (e.g. a database) and only accessible through a middleware data management system (although the precise implementation may vary). The term direct access is used to mean the capability of a client application or client service to interact directly with the contents of the repository, e.g. by retrieving parts of the repository based upon a query. The query can be based upon spatial or temporal criteria, or by specific properties of the instances of the spatial object types contained in the repository.</em></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the above definitions, a pre-defined dataset or a pre-defined part of a dataset is characterised by two conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>It has a metadata record and can be discovered using an INSPIRE conformant discovery service.</em></p>
</li>
<li>
<p><em>The metadata contains a link (URL – uniform resource locator) whereby the dataset or part of dataset can be immediately downloaded by a simple HTTP-protocol GET-request. The URL can optionally link to a resource where rights management services can be invoked prior to the simple download by use of HTTP-protocol.</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, note that the phrase 'part(s) of a dataset' refers only to <em>logical</em> parts of a dataset. It does <em>not</em> refer to <em>physical</em> parts of a dataset, for example where a large dataset has been split into multiple files for storage or access reasons.</p>
</div>
<div class="paragraph">
<p>As an example, a logical 'part of a dataset' could be a road network for a single administrative region. This 'part dataset' would have its own metadata record as described above and would effectively act as a normal dataset in the INSPIRE infrastructure. This is in contrast to say, if a road network was split into 100 tiles for storage efficiency. In the latter case, the physical parts of the logical dataset would not be exposed with metadata records.</p>
</div>
<div class="paragraph">
<p>Of course there may be a correspondence between the logical and physical parts of a dataset.</p>
</div>
<div class="paragraph">
<p>The precise definition of what constitutes a particular pre-defined dataset or pre-defined part of datasets is a matter for individual data providers and will vary according to the context. However as indicated above an example of usage could be where the pre-defined dataset is a dataset conforming to one of the INSPIRE themes covering the whole Member State, while a pre-defined part of the dataset could be a subset of this, covering for instance an administrative subdivision of the Member State.</p>
</div>
<div class="paragraph">
<p><em>NOTE For readability purposes, the short phrase "pre-defined dataset" is often used in this document. Whenever this phrase is encountered it should be interpreted as meaning the longer phrase "pre-defined dataset or a pre-defined part of a dataset". Where reference is made to physical parts of a dataset this is made explicit.</em></p>
</div>
<div class="paragraph">
<p>Figure 2 shows a typical sequence of operations used when downloading data from a pre-defined dataset download service.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image3.png" alt="image" width="605" height="379">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 2: Simple sequence diagram showing download of datasets via a pre-defined download service</strong></p>
</div>
<div class="paragraph">
<p>Figure 3 shows a typical sequence of operations used when downloading data from a direct access dataset download service.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image4.png" alt="image" width="605" height="377">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 3: Simple sequence diagram showing a typical sequence of operations to download spatial data objects from a direct access dataset download service.</strong></p>
</div>
<div class="paragraph">
<p>In both cases above, the end point for the <em>Get Download Service Metadata Request</em> (i.e. the Atom feed or the WFS GetCapabilities) is taken from the Download Service ISO Metadata retrieved from the Discovery Service. More specifically the Resource Locator Metadata element shall include the link to the <em>Get Download Service Metadata Request.</em></p>
</div>
<div class="paragraph">
<p>The following sections of this document provide detailed Technical Guidance for implementing Download Services using existing standards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Chapter 5</em> contains Technical Guidance for implementing pre-defined dataset download services using the Atom syndication format [<strong>ATOM</strong>]</p>
</li>
<li>
<p><em>Chapter 6</em> contains Technical Guidance for implementing pre-defined dataset download services using the ISO 19142 Web Feature Service [<strong>ISO 19142]</strong> and ISO 19143 Filter Encoding Specification [<strong>ISO 19143]</strong></p>
</li>
<li>
<p><em>Chapter 7</em> contains Technical Guidance for implementing direct access download services using the ISO 19142 Web Feature Service [<strong>ISO 19142]</strong> and ISO 19143 Filter Encoding [<strong>ISO 19143]</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Anybody implementing Download Services following this Technical Guidance should therefore choose to do one (or more, but at least one) of the following for each Download Service provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Satisfy the minimum functional requirements of the Regulation [<strong>INS NS</strong>, Annex IV, Part A] by following the Technical Guidance in Chapter 5 (using Atom).</p>
</li>
<li>
<p>Satisfy the minimum functional requirements of the Regulation [<strong>INS NS</strong>, Annex IV, Part A] by following the Technical Guidance in Chapter 6 (using WFS).</p>
</li>
<li>
<p>Satisfy the full functional requirements of the Regulation [<strong>INS NS</strong>, Annex IV, Parts A, B &amp; C] by following the Technical Guidance in Chapters 6 <em>and</em> 7 (using WFS &amp; Filter Encoding).</p>
</li>
<li>
<p>Satisfy the full functional requirements of the Regulation [<strong>INS NS</strong>, Annex IV, Parts A, B &amp; C] by following the Technical Guidance in Chapters 5 <em>and</em> 7 (using Atom and WFS &amp; Filter Encoding). This case will be referred to as a "hybrid implementation" in this Technical Guidance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Table 1 illustrates the relationship between the parts of the Regulation [<strong>INS NS</strong>, Annex IV] and the implementation choices presented in this document.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><em>Implementation choices</em></strong></th>
<th class="tableblock halign-left valign-top"><strong>Part A (mandatory)</strong></th>
<th class="tableblock halign-left valign-top"><strong>Parts B &amp; C (where practicable)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>ATOM</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chapter 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not possible with Atom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chapter 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chapter 7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph text-center">
<p><strong>Table 1: Possible implementation choices for Download Services</strong></p>
</div>
<div class="paragraph">
<p>In addition, the Network Services Regulation contains requirements for Quality of Service [<strong>INS NS</strong>, Annex I]. Technical Guidance for this is given in Chapter 8 and this Technical Guidance must be followed in addition to any Technical Guidance given in Chapters 5-7.</p>
</div>
<div class="sect2">
<h3 id="_how_the_technical_guidance_maps_to_the_implementing_rules">4.1. How the Technical Guidance maps to the Implementing Rules</h3>
<div class="paragraph">
<p>The purpose of this Technical Guidance is to provide practical guidance for implementation that is guided by, and satisfies, the requirements of the underlying legislation. The tables in the following three sections demonstrate how the Atom and WFS implementations described in this document satisfy the legal requirements of the Network Services Regulation [<strong>INS NS</strong>]. The underlying legislation is rarely referred to in the rest of this document, so these tables should be referred back to if necessary.</p>
</div>
<div class="sect3">
<h4 id="_mapping_the_atom_based_technical_guidance_to_the_implementing_rules">4.1.1. Mapping the Atom-based Technical Guidance to the Implementing Rules</h4>
<div class="paragraph">
<p>The following set of tables shows how the guidance for Atom implementations given in Chapter 5 satisfies the Network Services Regulation. Each operation is in a separate table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Get Download Service Metadata</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong><sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>Provides all necessary information about the service, the available Spatial Datasets, and describes the service capabilities.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Natural language to be used for the content of the response</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Download Service Metadata</p>
</li>
<li>
<p>Operations Metadata</p>
</li>
<li>
<p>Languages</p>
</li>
<li>
<p>Spatial Data Sets Metadata</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended Atom-based implementation</em></strong><br>
<strong><em>(satisfies pre-defined download only)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Download Service Metadata Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Metadata records for Download Services shall be available in a Discovery Service. The Resource Locator metadata element for the Download Service shall contain a link to the Atom feed.</p>
</div>
<div class="paragraph">
<p>The Get Download Service Metadata request is an HTTP GET request to the Download Service to retrieve the Atom feed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Download Service Metadata Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response from the Download Service will be an Atom feed which includes the download service INSPIRE metadata, operations metadata, response and supported languages, spatial data sets metadata and their corresponding CRS. See Section 5.1.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 2: Get Download Service Metadata – Atom Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Get Spatial Data Set</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>The Get Spatial Data Set operation allows the retrieval of a Spatial Dataset.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Data Set Identifier</p>
</li>
<li>
<p>Coordinate Reference System</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Requested Spatial Data Set in the requested language and CRS</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended Atom-based implementation</em></strong><br>
<strong><em>(satisfies pre-defined download only)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Data Set Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pre-defined spatial datasets can be retrieved using the URL template identified by rel="results" in the OpenSearch description document. The request contains the CRS, Spatial Data Set Identifier and language as parameters.</p>
</div>
<div class="paragraph">
<p>Pre-defined spatial datasets can also be retrieved by following link elements in Atom feed entries as described in Section 5.2.2</p>
</div>
<div class="paragraph">
<p>An HTTP GET request is made to the link target.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Data Set Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response will be a pre-defined spatial dataset in the requested language and CRS.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 3: Get Spatial Data Set – Atom Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Describe Spatial Dataset</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>This operation returns the description of all the types of Spatial Objects contained in the Spatial Dataset.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Data Set Identifier</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Description of the Spatial Objects in the requested Spatial Data Set and requested language</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended Atom-based implementation</em></strong><br>
<strong><em>(satisfies pre-defined download only)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Describe Spatial Data Set Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Describe Spatial Data Set Request is issued using the URL template identified by rel="describedby" in the OpenSearch description document. The request contains the Spatial Data Set Identifier and Language as parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Describe Spatial Data Set Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response is another Atom Feed (a "Dataset Feed" ) containing links to descriptions of the Spatial Object Types in the &lt;link rel="describedby"&gt; element. Reference to the INSPIRE Registry as described in Section 5.2.1 should be made where possible.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 4: Describe Spatial Data Set – Atom Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Link Download Service</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description in INS NS (Annex IV, Part A)</strong><br>
<br>
Allows the declaration, by a Public Authority or a Third Party, of the availability of a Download Service for downloading Spatial Datasets or, where practicable, Spatial Objects, through the Member State&#8217;s Download Service while maintaining the downloading capability at the Public Authority or the Third Party location.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Recommended Atom-based implementation</em></strong><br>
<strong><em>(satisfies pre-defined download only)</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">To be implemented by uploading the appropriate metadata to the INSPIRE network as referred to in Article 11 using the PublishMetadata function of an INSPIRE compliant discovery service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 5: Link Download Service – Atom Implementation</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_the_wfs_based_technical_guidance_to_the_implementing_rules">4.1.2. Mapping the WFS-based Technical Guidance to the Implementing Rules</h4>
<div class="paragraph">
<p>The following set of tables shows how the guidance for WFS implementations given in Chapters 6 and 7 satisfies the Network Services Regulation. Again, each operation is in a separate table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Get Download Service Metadata</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>Provides all necessary information about the service, the available Spatial Datasets, and describes the service capabilities.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Natural language to be used for the content of the response</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Download Service Metadata</p>
</li>
<li>
<p>Operations Metadata</p>
</li>
<li>
<p>Languages</p>
</li>
<li>
<p>Spatial Data Sets Metadata</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Download Service Metadata Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Metadata records for Download Services shall be available in a Discovery Service. The Resource Locator metadata element for the Download Service shall contain a link to the GetCapabilities of the WFS..</p>
</div>
<div class="paragraph">
<p>The Get Download Service Metadata request is a GetCapabilities request to the WFS indicated in the metadata record.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Download Service Metadata Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Get Download Service Metadata Response will be a WFS capabilities document, which includes the download service INSPIRE metadata, operations metadata, response and supported languages, spatial data sets metadata and their corresponding CRS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19142: Simple WFS, HTTP Get</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 6: Get Download Service Metadata - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Get Spatial Data Set</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>The Get Spatial Data Set operation allows the retrieval of a Spatial Dataset.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Data Set Identifier</p>
</li>
<li>
<p>Coordinate Reference System</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Requested Spatial Data Set in the requested language and CRS</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Data Set Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pre-defined spatial datasets in different CRS/DataSetIdCode/ DataSetIdNamespace/language combinations can be retrieved using Stored Queries as described in Section 6.4</p>
</div>
<div class="paragraph">
<p>A GetFeature request shall be made to a WFS that uses a StoredQuery for the pre-defined dataset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Data Set Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The WFS shall return a set of features corresponding to the pre-defined dataset in the requested language and CRS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ISO 19142: Simple WFS, HTTP Get</p>
</div>
<div class="paragraph">
<p>ISO 19143: Query</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 7: Get Spatial Data Set - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Describe Spatial Dataset</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>This operation returns the description of all the types of Spatial Objects contained in the Spatial Dataset.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Data Set Identifier</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Description of the Spatial Objects in the requested Spatial Data Set and requested language.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Describe Spatial Data Set Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The spatial object types are described in the GetCapabilities response of the WFS.</p>
</div>
<div class="paragraph">
<p>A GetCapabilities request is made to a WFS.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Describe Spatial Data Set Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The WFS shall return a valid Capabilities document in the requested language, which identifies the Spatial Object types available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19142: Simple WFS, HTTP Get</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 8: Describe Spatial Data Set - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Link Download Service</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part A)</strong></p>
</div>
<div class="paragraph">
<p>Allows the declaration, by a Public Authority or a Third Party, of the availability of a Download Service for downloading Spatial Datasets or, where practicable, Spatial Objects, through the Member State&#8217;s Download Service while maintaining the downloading capability at the Public Authority or the Third Party location.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">To be implemented by uploading the Download Service INSPIRE metadata to the INSPIRE network as referred to in Article 11 using the PublishMetadata function of an INSPIRE compliant discovery service. The Resource Locator metadata element of the Download Service metadata record shall contain a link to the Atom Feed and/or the WFS GetCapabilities document.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 9: Link Download Service - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Get Spatial Object</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part B)</strong></p>
</div>
<div class="paragraph">
<p>This operation allows the retrieval of Spatial Objects based upon a query.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Data Set Identifier</p>
</li>
<li>
<p>Coordinate Reference System</p>
</li>
<li>
<p>Query</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Spatial Objects Set</p>
</li>
<li>
<p>Spatial Objects Set Metadata</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>O</p>
</div>
<div class="paragraph">
<p>(Direct access download only)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Object Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The WFS provides support for ad-hoc queries as defined in TG Requirement 63.</p>
</div>
<div class="paragraph">
<p>A GetFeature request with required query arguments is made to the WFS.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Get Spatial Object Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The WFS returns a set of features that meet the requirements of the query expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ISO 19142: Simple WFS, HTTP Get</p>
</div>
<div class="paragraph">
<p>ISO 19143: Query, Ad hoc Query</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 10: Get Spatial Object - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Describe Spatial Object Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part B)</strong></p>
</div>
<div class="paragraph">
<p>This operation returns the description of the specified Spatial Objects types [sic].</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Request parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Language</p>
</li>
<li>
<p>Spatial Object Type</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Response parameters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Description of the Spatial Object Type in conformity with regulation (EU) No.1089/2010</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>O</p>
</div>
<div class="paragraph">
<p>(Direct access download only)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A DescribeFeatureType request is made to the WFS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The WFS responds with the XML schema for the requested Spatial Object types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 19142: Simple WFS, HTTP Get</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 11: Describe Spatial Object Type - WFS Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Search Criteria for the Get Spatial Object Operation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>M/O/C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Description in INS NS (Annex IV, Part C)</strong></p>
</div>
<div class="paragraph">
<p>For the purposes of the Get Spatial Object Operation of the Download Service,</p>
</div>
<div class="paragraph">
<p>the following search criteria shall be implemented:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unique Resource Identifier* of Spatial Dataset,</p>
</li>
<li>
<p>all relevant key attributes and the relationship between Spatial Objects as set out in Regulation (EU) No 1089/2010; in particular the Unique Identifier of Spatial Object and the temporal dimension characteristics, including the date of update,</p>
</li>
<li>
<p>bounding box, expressed in any of the Coordinate Reference Systems listed in Regulation (EU) No 1089/2010,</p>
</li>
<li>
<p>Spatial Data Theme.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To allow for discovering spatial objects through a combination of search criteria, logical and comparison operators shall be supported.</p>
</div>
<div class="paragraph">
<p>* The phrase 'Unique Identifier of Spatial Object' should be interpreted in this Technical Guidance as being the 'External unique object identifier' as set out in section 2.1 of Annex I of (EU) No 1089/2010 [INS SDS].</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>O</p>
</div>
<div class="paragraph">
<p>(Direct access download only)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Recommended WFS-based implementation</em></strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Request</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Various ad hoc query capabilities are provided by the Filter Encoding Specification (TG Requirement 63 to TG Requirement 68).</p>
</div>
<div class="paragraph">
<p>A GetFeature request may be made with Query arguments.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Response</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The WFS returns a set of features that meet the requirements of the query expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WFS/FE Conformance Classes</em></strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ISO 19142: Simple WFS, HTTP Get, Basic WFS</p>
</div>
<div class="paragraph">
<p>ISO 19143: Query, Ad hoc Query, Resource Identification, Minimum Standard Filter, Minimum Spatial Filter, Minimum Temporal Filter, Minimum XPath</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 12: Search Capabilities - WFS Implementation</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_of_spatial_data_set_identifier_parameter">4.1.3. Mapping of Spatial Data Set Identifier parameter</h4>
<div class="paragraph">
<p>The Spatial Data Set Identifier parameter is defined in the Network Service regulation [<strong>INS NS</strong>] as <em>"The Spatial Data Set Identifier parameter shall contain the Unique Resource Identifier of the Data Set"</em></p>
</div>
<div class="paragraph">
<p>The following table demonstrates how the Spatial Data Set Identifier is mapped between the Atom and WFS based Technical Guidance and the corresponding ISO metadata of the spatial data set. The Spatial Data Set Identifier parameter maps to either the RS_Identifier or the MD_Identifier depending on what type of Spatial Data Set Identifier is used in the corresponding ISO metadata.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>INSPIRE Download Service</strong></th>
<th class="tableblock halign-left valign-top"><strong>RS_Identifier</strong></th>
<th class="tableblock halign-left valign-top"><strong>MD_Identifier</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WFS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inspire_dls:SpatialDataSetIdentifier/inspire_common:Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:RS_Identifier/code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:MD_Identifier/code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inspire_dls:SpatialDataSetIdentifier/inspire_common:Namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:RS_Identifier/codespace</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ATOM</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatial_dataset_identifier_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:RS_Identifier/code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:MD_Identifier/code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatial_dataset_identifier_namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gmd:RS_Identifier/codespace</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 13: Mapping the Spatial Data Set Identifier parameter</strong></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_classes_for_download_services_technical_guidance">4.2. Conformance Classes for Download Services Technical Guidance</h3>
<div class="paragraph">
<p>In order to declare a level of conformance with this Technical Guidance it is necessary to meet the requirements of any conformance class to which conformance is declared.</p>
</div>
<div class="paragraph">
<p>The following conformance classes are defined in this document.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Conformance Class</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>M/O/C</strong></th>
<th class="tableblock halign-left valign-top"><strong>Chapter</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1: Pre-defined Atom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation of pre-defined download service using Atom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, shall be M if "WFS pre-defined" is not conformed to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2: Pre-defined WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation of pre-defined download service using WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, shall be M if "Atom pre-defined" is not conformed to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3: Direct WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation of direct access download service using WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4: Quality of Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality of Service criteria and requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 14: Conformance Classes for Download Service Technical Guidance</strong></p>
</div>
<div class="paragraph">
<p>Conformance may be declared in the Download Service ISO 19139 metadata record. Since the metadata record requires conformance to a specification rather than a part of a specification, it is suggested that the form <em>technicalGuidance#levelN</em> is used, where <em>technicalGuidance</em> refers to this document and <em>N</em> refers to the conformance class (e.g. <em>technicalGuidance#level2</em>).</p>
</div>
<div class="paragraph">
<p>Also the conformance with several conformance classes can be specified. For example, for a "hybrid" implementation based on Atom for Part A and WFS for Parts B and C, which meets the quality of service requirements could declare conformance with <em>technicalGuidance#level1, technicalGuidance#level3 and technicalGuidance#level4.</em></p>
</div>
<div class="paragraph">
<p>If a WFS service does not conform to Part A of [<strong>INS NS,</strong> Annex IV], it cannot on its own be considered compliant with the requirements of the Regulation. Only the combination of an Atom or WFS service conformant with part A with a WFS conformant to Parts B and C can be considered compliant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_language_requirements">4.3. Language Requirements</h3>
<div class="paragraph">
<p>The Network Services Regulation requires that multilingual aspects for network services are supported [<strong>INS NS</strong>]. As there is no standard way to deal with multilingualism within the current ISO or OGC specifications, the following basic principles shall be used for INSPIRE Network Services (including Download Services):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>A network service [Download Service] metadata response shall contain a list of the natural languages supported by the service. This list shall contain one or more languages that are supported.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>A client may specify a specific language in a request. If the requested language is contained in the list of supported languages, the natural language fields of the service response shall be in the requested language. If the requested language is not supported by the service, then this parameter shall be ignored.</pre>
</div>
</div>
<div class="paragraph">
<p>For each relevant Conformance Class in this document these statements are defined as requirements and additional implementation guidance is given.</p>
</div>
</div>
<div class="sect2">
<h3 id="_implementation_roadmap_for_download_services">4.4. Implementation Roadmap for Download Services</h3>
<div class="paragraph">
<p><em>Note: This section is entirely informative and is here simply to assist with practical implementations. It has no legal basis and is not any way intended to supplement, modify or replace any legally binding statements made elsewhere.</em></p>
</div>
<div class="paragraph">
<p>The milestones (including dates) for implementation of all INSPIRE Services are outlined in the INSPIRE Implementation Roadmap which can be found at: <a href="http://inspire.jrc.ec.europa.eu/index.cfm/pageid/44" class="bare">http://inspire.jrc.ec.europa.eu/index.cfm/pageid/44</a></p>
</div>
<div class="paragraph">
<p>In order to provide clear Technical Guidance for implementation it is useful to expand upon the meaning and practical implications of the roadmap milestones that relate to Download Services.</p>
</div>
<div class="paragraph">
<p><em>Note that the INSPIRE Implementation Roadmap does not make any distinction between pre-defined dataset download services and direct access download services as described in this document. The timescales and milestones for both are the same, the only discriminator being that direct access download services should be implemented where practicable</em>.</p>
</div>
<div class="paragraph">
<p>In the initial stages of the INSPIRE Implementation Roadmap, datasets made available via Download Services are not required to be compliant with the thematic Data Specifications and may be provided via Download Services in existing formats 'as-is'. So for convenience we shall refer to these here as "<em>non-interoperable</em>" Download Services.</p>
</div>
<div class="paragraph">
<p>In later stages of the INSPIRE Implementation Roadmap datasets made available via Download Services <em>are</em> expected to be compliant with the thematic Data Specifications, i.e. the <em>data</em> delivered via these services must conform to the requirements of the thematic Data Specifications. So, again for convenience only, we shall refer to these here as "<em>interoperable</em>" Download Services.</p>
</div>
<div class="paragraph">
<p>Since the timescales for Annex I, II and III themes differ there is some overlap between the implementation timescales of non-interoperable and interoperable Download Services.</p>
</div>
<div class="paragraph">
<p>Sections 4.4.1 to 4.4.3 provide additional guidance to help with the interpretation of those milestones, which are relevant to the provision of Download Services.</p>
</div>
<div class="sect3">
<h4 id="_roadmap_for_non_interoperable_download_services">4.4.1. Roadmap for "non-interoperable" Download Services</h4>
<div class="paragraph">
<p>The milestones in Table 15 (below) can be interpreted to mean that datasets should be made available for download via Download Services but the datasets <em>do not</em> have to be formatted according to the INSPIRE Data Specifications*.</p>
</div>
<div class="paragraph">
<p>*<em>This interpretation was clarified during the workshop on legal issues held on the 17th of June 2010 in Brussels with Q&amp;A available at:</em> <a href="http://inspire.jrc.ec.europa.eu/documents/INSPIRE_/INSPIRE_legal_issues.PDF" class="bare">http://inspire.jrc.ec.europa.eu/documents/INSPIRE_/INSPIRE_legal_issues.PDF</a> <em>(page 18, final question and question part (c) page 28)</em></p>
</div>
<div class="paragraph">
<p>For the latest dates of these milestones please refer to the INSPIRE Implementation Roadmap.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong><em>Milestone</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Article*</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Technical Guidance</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Member States shall provide the Download Services with initial operating capability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For <em>Annex I and II</em> datasets, Download Services shall be provided, although these services need not fully comply with the Network Services implementing rules at this point. The <em>data</em> delivered by these services do not need to comply with the thematic Data Specifications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS2</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Download services operational</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For <em>Annex I and II</em> datasets, fully compliant (with IR NS) Download Services shall be provided. The <em>data</em> delivered by these services do not need to comply with the thematic Data Specifications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS3</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Metadata available for spatial datasets and services corresponding to Annex III</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6(b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For Annex III datasets, fully compliant (with IR NS) Download Services shall be provided. The <em>data</em> delivered by these services do not need to comply with the thematic Data Specifications.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 15: Milestones for "non-interoperable" Download Services</strong></p>
</div>
<div class="paragraph">
<p>*From the INSPIRE Directive</p>
</div>
</div>
<div class="sect3">
<h4 id="_roadmap_for_interoperable_download_services">4.4.2. Roadmap for "interoperable" Download Services</h4>
<div class="paragraph">
<p>The milestones in Table 16 (below) can be interpreted to mean that datasets should be made available for download via Download Services in a way that is <em>compliant</em> with the requirements of the Data Specifications as well as the Network Services requirements.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong><em>Milestone</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Article*</em></strong></th>
<th class="tableblock halign-left valign-top"><strong><em>Technical Guidance</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS4</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Implementation of Commission Regulation (EU) No 102/2011 of 4 February 2011 amending Regulation (EU) No 1089/2010 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards interoperability of spatial datasets and services for newly collected and extensively restructured Annex I spatial datasets available</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7§3, 9(a)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Newly collected or extensively restructured Annex I datasets shall be made available via Download Services in a way that is compliant with both Data Specifications and Network Services requirements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS5</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Newly collected and extensively restructured Annex II and III spatial datasets available</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7§3, 9(b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Newly collected or extensively restructured Annex II and III datasets shall be made available via Download Services in a way that is compliant with both Data Specifications and Network Services requirements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS6</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Implementation of Commission Regulation (EU) No 1089/2010 of 23 November 2010 implementing Directive 2007/2/EC of the European Parliament and of the Council as regards interoperability of spatial datasets and services for other Annex I spatial datasets still in use at the date of adoption</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7§3, 9(a)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All Annex I datasets still in use shall be made available via Download Services in a way that is compliant with both Data Specifications and Network Services requirements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>MS7</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Other Annex II and III spatial datasets available in accordance with IRs for Annex II and III</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7§3, 9(b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All Annex II and III datasets still in use shall be made available via Download Services in a way that is compliant with both Data Specifications and Network Services requirements.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 16: Milestones for "interoperable" Download Services</strong></p>
</div>
<div class="paragraph">
<p>*From the INSPIRE Directive</p>
</div>
</div>
<div class="sect3">
<h4 id="_illustrative_roadmap_for_all_download_services">4.4.3. Illustrative Roadmap for all Download Services</h4>
<div class="paragraph">
<p>The roadmap described above in sections 4.4.1 and 4.4.2 is further illustrated in Figure 4:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image5.png" alt="image" width="605" height="419">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 4: Illustration of Implementation Roadmap</strong>*</p>
</div>
<div class="paragraph">
<p><em>*Dates in this figure are accurate at the time of publication. For definitive dates refer to the roadmap published on the INSPIRE website: (<a href="http://inspire.jrc.ec.europa.eu/index.cfm/pageid/44" class="bare">http://inspire.jrc.ec.europa.eu/index.cfm/pageid/44</a>)</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_atom_implementation_of_pre_defined_dataset_download_service">5. Atom Implementation of Pre-defined Dataset Download Service</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">📘</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Conformance Class 1: Pre-defined Atom:</strong><br>
Implement Pre-Defined Dataset Download Service ("Part A") using Atom</p>
</div>
<div class="paragraph">
<p><em>This conformance class is inclusive of:</em></p>
</div>
<div class="paragraph">
<p><em>TG Requirement 1 to</em> <em>TG Requirement 45</em></p>
</div>
<div class="paragraph">
<p><em>TG Recommendation 1 to</em> <em>TG Recommendation 12</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An operational implementation of an INSPIRE Atom based Download Service implementation is available on the INSPIRE Geoportal:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Demo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://inspire-geoportal.ec.europa.eu/demos/ccm/" class="bare">http://inspire-geoportal.ec.europa.eu/demos/ccm/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Top feed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://inspire-geoportal.ec.europa.eu/demos/ccm/democcmdownloadservice.atom.en.xml" class="bare">http://inspire-geoportal.ec.europa.eu/demos/ccm/democcmdownloadservice.atom.en.xml</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code inspector</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://inspire-geoportal.ec.europa.eu/demos/ccm/codeview.html" class="bare">http://inspire-geoportal.ec.europa.eu/demos/ccm/codeview.html</a></p>
</div>
<div class="paragraph">
<p>This web page displays the source code of the Atom feeds and of the OpenSearch description document of the demo. When clicking on specific rows of the code or description, the text of the relevant requirement is displayed.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This Technical Guidance recommends the Atom syndication format [<strong>ATOM</strong>] as one way to implement pre-defined dataset download services with a minimal implementation cost and complexity. Section 4.1.1 contains a descriptive mapping between the Network Services Regulation [<strong>INS NS</strong>] and the guidance in this chapter.</p>
</div>
<div class="paragraph">
<p>The Atom syndication format provides a simple, widely understood mechanism for publishing information on the web in the form of feeds in a way that is compatible with existing web architecture and many tools. In addition Atom is supplemented in this guidance by OpenSearch which provides a service-type interface to the static atom documents.</p>
</div>
<div class="paragraph">
<p>As described in the Atom standard [<strong>ATOM</strong>], Atom is an XML-based document format that describes lists of related information known as "feeds". These feeds are then composed of a number of items, known as "entries", each with an extensible set of elements that contain information about the entry. For example, each entry has a title. Entries may also contain additional feeds.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 1: Sample Atom feed, containing two entries:</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;feed xmlns="http://www.w3.org/2005/Atom"&gt;
 	&lt;title&gt;Simple Atom feed example&lt;/title&gt;
  &lt;link href="http://myexample.com/"/&gt;
  &lt;updated&gt;2011-12-14T13:16:32Z&lt;/updated&gt;
  &lt;author&gt;
     &lt;name&gt;A. N. Other&lt;/name&gt;
  &lt;/author&gt;
  &lt;id&gt;urn:uuid:8fa70ca0-2659-11e1-bfc2-0800200c9a66&lt;/id&gt;
  &lt;entry&gt;
     &lt;title&gt;My first Atom entry&lt;/title&gt;
     &lt;link href="http://myexample.com/atom123abc"/&gt;
     &lt;id&gt;urn:uuid:c53a6970-2659-11e1-bfc2-0800200c9a66 &lt;/id&gt;
     &lt;updated&gt;2011-12-14T13:15:02Z&lt;/updated&gt;
     &lt;summary&gt;This is an entry in a feed&lt;/summary&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
     &lt;title&gt;My second Atom entry&lt;/title&gt;
     &lt;link href="http://myexample.com/atom456xyz"/&gt;
     &lt;id&gt;urn:uuid: f80b23d0-2659-11e1-bfc2-0800200c9a66&lt;/id&gt;
     &lt;updated&gt;2011-12-14T13:16:32Z&lt;/updated&gt;
     &lt;summary&gt;This is another entry in a feed&lt;/summary&gt;
  &lt;/entry&gt;
&lt;/feed&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This Technical Guidance recommends using Atom feeds to make available pre-defined datasets in a consistent manner. The guidance in this chapter can be summarised at a high-level as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A single Atom feed is published as a top-level "Download Service Feed<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>".</p>
</li>
<li>
<p>This feed contains a link to an OpenSearch description document which provides operations metadata for the Download Service. The OpenSearch description document provides information about the operations implemented by the download service.</p>
</li>
<li>
<p>This feed contains one or more Atom entries: one per pre-defined data set.</p>
</li>
<li>
<p>Each of these Atom entries shall contain a link to <em>another</em> Atom Feed (a "Dataset Feed") that describes the particular pre-defined data set.</p>
</li>
<li>
<p>Each of these "Dataset Feeds" shall contain Atom Entries with links to download the pre-defined dataset in different formats (e.g. in GML, ShapeFile, etc.) and in different Coordinate Reference Systems. One link shall be provided for each format/CRS combination.</p>
</li>
<li>
<p>Feeds may be provided in multiple languages (as described in Section 5.3)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This pattern is illustrated further in Figure 5.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 1</strong><br>
Pre-defined Dataset Download Service implementations shall publish separate datasets as individual entries within an Atom feed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 2</strong><br>
All Atom feeds (and entries in feeds) shall conform to all the requirements in the Atom specification, RFC 4287.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition the Atom feeds are supplemented with GeoRSS information to enable integration in tools that support this format (e.g. Google Earth).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 3</strong><br>
All GeoRSS information in Atom feeds shall conform to the GeoRSS-Simple specification.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition the Atom feeds are supplemented with OpenSearch information to as a way to specify operations for the Download Service.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 4</strong><br>
All OpenSearch information in Atom feeds shall conform to the OpenSearch specification.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also possible to enrich the Atom feeds with XML content from other schemes although discussion of this is beyond the scope of the Technical Guidance.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image6.png" alt="image" width="605" height="402">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 5 Overview of Atom feed structures</strong></p>
</div>
<div class="sect2">
<h3 id="_atom_download_service_feed_containing_an_entry_for_a_pre_defined_dataset">5.1. Atom "Download Service Feed" containing an entry for a Pre-defined dataset</h3>
<div class="paragraph">
<p>The following Download Service Feed example contains a single Atom entry which points to the Dataset Feed for a pre-defined dataset, in this case a Hydrography dataset. The Dataset Feed is described in Section 5.2. This example is conformant to the Pre-defined Atom conformance class and can be used as a template for implementation.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 2: Sample "Download Service Feed" (Atom) with an entry for a Hydrography dataset</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- Example "Download Service Feed" --&gt;
&lt;feed xmlns="http://www.w3.org/2005/Atom"
    xmlns:georss="http://www.georss.org/georss" xmlns:inspire_dls="http://inspire.ec.europa.eu/schemas/inspire_dls/1.0" xml:lang="en"&gt;
    &lt;!-- feed title --&gt;
    &lt;title&gt;XYZ Example INSPIRE Download Service&lt;/title&gt;
    &lt;!-- feed subtitle --&gt;
    &lt;subtitle&gt;INSPIRE Download Service of organisation XYZ providing Hydrography data&lt;/subtitle&gt;
    &lt;!-- link to download service ISO 19139 metadata --&gt;
    &lt;link href="http://xyz.org/metadata/iso19139_document.xml" rel="describedby" type="application/xml"/&gt;
    &lt;!-- self-referencing link to this feed --&gt;
    &lt;link href="http://xyz.org/download/en.xml" rel="self" type="application/atom+xml"
        hreflang="en" title="This document"/&gt;
    &lt;!-- link to Open Search definition file for this service--&gt;
	&lt;link rel="search" href="http://xyz.org/search/opensearchdescription.xml" type="application/opensearchdescription+xml" title="Open Search Description for XYZ download service"/&gt;
    &lt;!-- link to this feed in another language --&gt;
    &lt;link href="http://xyz.org/download/de.xml" rel="alternate"
        type="application/atom+xml" hreflang="de"
        title="The download service information in German"/&gt;
    &lt;!-- link to another representation of this feed (HTML) --&gt;
    &lt;link href="http://xyz.org/download/index.html" rel="alternate"
        type="text/html" hreflang="en"
        title="An HTML version of this document"/&gt;
    &lt;!-- link to this feed in HTML in another language--&gt;
    &lt;link href="http://xyz.org/download/index.de.html" rel="alternate"
        type="text/html" hreflang="de"
        title="An HTML version of this document in German"/&gt;
    &lt;!-- identifier --&gt;
    &lt;id&gt;http://xyz.org/download/en.xml&lt;/id&gt;
    &lt;!-- rights, access restrictions --&gt;
    &lt;rights&gt;Copyright (c) 2012, XYZ; all rights reserved&lt;/rights&gt;
    &lt;!-- date/time this feed was last updated --&gt;
    &lt;updated&gt;2012-03-31T13:45:03Z&lt;/updated&gt;
    &lt;!-- author contact information --&gt;
    &lt;author&gt;
        &lt;name&gt;John Doe&lt;/name&gt;
        &lt;email&gt;doe@xyz.org&lt;/email&gt;
    &lt;/author&gt;
    &lt;!-- entry for a "Dataset Feed" for a pre-defined dataset --&gt;
    &lt;entry&gt;
        &lt;!-- title for "Dataset Feed" for pre-defined dataset --&gt;
        &lt;title&gt;Water network ABC Dataset Feed&lt;/title&gt;
		   &lt;!--Spatial Dataset Unique Resource Identifier for this dataset--&gt;
	&lt;inspire_dls:spatial_dataset_identifier_code&gt;wn_id1&lt;/inspire_dls:spatial_dataset_identifier_code&gt;                                  &lt;inspire_dls:spatial_dataset_identifier_namespace&gt;http://xyz.org/&lt;/inspire_dls:spatial_dataset_identifier_namespace&gt;
		   &lt;!-- link to dataset metadata record --&gt;
    		 &lt;link href="http://xyz.org/metadata/abcISO19139.xml" rel="describedby" type="application/xml"/&gt;
        &lt;!-- link to "Dataset Feed" for pre-defined dataset --&gt;
        &lt;link rel="alternate" href="http://xyz.org/data/waternetwork_feed.xml" type="application/atom+xml"
        hreflang="en" title="Feed containing the pre-defined waternetwork dataset (in one or more downloadable formats)"/&gt;
        &lt;!-- link to related WFS implementing Direct Access operations --&gt;
        &lt;link rel="related" href="http://xyz.org/wfs?request=GetCapabilities&amp;amp;service=WFS&amp;amp;version=2.0.0" type="application/xml" title="Service implementing Direct Access operations"/&gt;
        &lt;!-- identifier for "Dataset Feed" for pre-defined dataset --&gt;
        &lt;id&gt;http://xyz.org/data/waternetwork_feed.xml&lt;/id&gt;
        &lt;!-- rights, access info for pre-defined dataset --&gt;
        &lt;rights&gt;Copyright (c) 2002-2011, XYZ; all rights reserved&lt;/rights&gt;
        &lt;!-- last date/time this entry was updated --&gt;
		   &lt;updated&gt;2012-03-31T13:45:03Z&lt;/updated&gt;
		   &lt;!-- summary --&gt;
		   &lt;summary&gt;This is the entry for water network ABC Dataset&lt;/summary&gt;
        &lt;!-- optional GeoRSS-Simple polygon outlining the bounding box of the pre-defined dataset described by the entry. Must be lat lon --&gt;
        &lt;georss:polygon&gt;47.202 5.755 55.183 5.755 55.183 15.253 47.202 15.253 47.202 5.755&lt;/georss:polygon&gt;
        &lt;!-- CRSs in which the pre-defined Dataset is available --&gt;
			&lt;category term="http://www.opengis.net/def/crs/EPSG/0/25832"  label="ETRS89 / UTM zone 32N"/&gt;
			&lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"  label="ETRS89"/&gt;
    &lt;/entry&gt;
    &lt;!-- Any number of "Dataset Feeds" for different pre-defined datasets may be added here as separate entries --&gt;
&lt;/feed&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that only some of the mandatory INSPIRE Metadata elements for the Download service have been mapped to the Atom feed files.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>INSPIRE Metadata elements</strong><br>
<br>
<strong>(Mandatory - Conditional)</strong></th>
<th class="tableblock halign-left valign-top"><strong>Atom implementation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Title (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/feed/title</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Abstract (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/feed/subtitle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Type (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Locator (C)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Feed level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/link[@rel="self"]</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coupled Resource (C)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Entry level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/entry/link[@rel="describedby"]</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial Data Service Type (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyword (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geographic Bounding Box (C)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporal Reference (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial Resolution (C)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conformity (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions for Access and Use (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limitations on Public Access (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Feed level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/rights</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible Organisation (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Feed level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/author</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Point of Contact (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not mapped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Date (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Feed level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/updated</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Language (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Feed level link in the top Atom feed</p>
</div>
<div class="paragraph">
<p>/feed/link[@rel="self"]/@hreflang</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 17: Mapping of INSPIRE Metadata elements to Atom</strong></p>
</div>
<div class="paragraph">
<p>All the required INSPIRE metadata elements are to be found in the linked ISO 19139 metadata document for the Download service as explained in Section 5.1.3.</p>
</div>
<div class="paragraph">
<p>The following sections explain in more detail how this example Atom feed is formed and what must be done to meet particular Technical Guidance requirements.</p>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_title_element">5.1.1. Download Service Feed: feed 'title' element</h4>
<div class="paragraph">
<p>The title element shall be used to provide a title for the feed as a whole. Typically this will correspond with the 'Resource Title' in the corresponding service metadata record.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 3: Sample feed title</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- feed title --&gt;
&lt;title&gt;XYZ Example INSPIRE Download Service&lt;/title&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 5</strong><br>
The 'title' element of an Atom feed shall be populated with a human readable title for the feed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_subtitle_element">5.1.2. Download Service Feed: feed 'subtitle' element</h4>
<div class="paragraph">
<p>The subtitle element may be used to provide a subtitle (containing additional information) for the feed as a whole. Typically this will correspond with the 'Resource Abstract' in the corresponding service metadata record.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 4: Sample feed subtitle</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- feed subtitle --&gt;
&lt;subtitle&gt;INSPIRE Download Service of organisation XYZ providing Hydrography data&lt;/subtitle&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 1</strong>:<br>
The 'subtitle' element of an Atom feed may be populated with a human readable subtitle for the feed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_link_element_service_metadata">5.1.3. Download Service Feed: feed 'link' element – service metadata</h4>
<div class="paragraph">
<p>Every Download Service must have a corresponding Metadata record in a discovery service.</p>
</div>
<div class="paragraph">
<p>An Atom link element shall be provided that links to the metadata record for this Download Service. This should be a discovery service metadata record. The value of the 'rel' attribute for this link shall be "describedby" [<strong>POWDER</strong>] The value of the 'type' attribute shall be "application/xml" or "application/vnd.ogc.csw.GetRecordByIdResponse_xml".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 5: Example service metadata link</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- link to service ISO 19139 metadata --&gt;
&lt;link href="http://xyz.org/metadata/iso19139_document.xml" rel="describedby" type="application/xml"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 6</strong><br>
The "Download Service Feed" shall contain an Atom 'link' element that links to the metadata record for this Download Service. The value of the 'rel' attribute of this element shall be "describedby" and the value of the 'type' attribute shall be either "application/xml".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE In case of a "hybrid implementation" based on Atom and WFS for Parts B and C, only the Atom service needs to be described through metadata in a discovery service. The link to the WFS implementations shall be established through the "related" link element in the Atom feed (see TG Requirement 16).</p>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_link_element_self_reference">5.1.4. Download Service Feed: feed 'link' element – self-reference</h4>
<div class="paragraph">
<p>The feed shall have a link element which contains an HTTP URI for the feed document itself. This URI shall provide the location of the feed and resolve to the feed. The value of the 'rel' attribute for this link shall be "self".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 6: Example reference to feed</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- self-referencing link to this feed --&gt;
&lt;link href="http://xyz.org/download/en.xml" rel="self" type="application/atom+xml" hreflang="en" title="This document"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 7</strong><br>
The "Download Service Feed" shall contain an Atom 'link' element that contains an HTTP URI for the "Download Service Feed" document. The value of the 'rel' attribute of this element shall be "self", the 'hreflang' attribute shall use the appropriate language code and the value of the 'type' attribute shall be "application/atom+xml", "application/xml" or "text/xml".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_link_element_opensearch_description_document">5.1.5. Download Service Feed: feed 'link' element – OpenSearch Description Document</h4>
<div class="paragraph">
<p>A link element shall be provided that links to an OpenSearch description document for the Download Service. The value of the 'rel' attribute of this link shall be "search". The structure of the OpenSearch description document is described separately in Section 5.4.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 8</strong><br>
The "Download Service Feed" shall contain an Atom 'link' element that contains a link to an OpenSearch description document for the Download Service. The value of the 'rel' attribute of this element shall be "search", the 'hreflang' attribute shall use the appropriate language code and the value of the 'type' attribute shall be "application/opensearchdescription+xml".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_link_element_alternative_languages">5.1.6. Download Service Feed: feed 'link' element – alternative languages</h4>
<div class="paragraph">
<p>If the feed is available in different languages a link element shall be provided to each alternative language version of the document. This is described in detail in Section 5.3 (Language Requirements for Atom Implementation).</p>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_link_element_alternative_representation_formats">5.1.7. Download Service Feed: feed 'link' element – alternative representation formats</h4>
<div class="paragraph">
<p>It is possible, although not a requirement of this guidance, to provide alternative representations of the feeds, for example in HTML. In this case the "alternate" value shall again be used for the 'rel' attribute.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 7: Alternative links to HTML versions of a document (in both English and German).</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- link to another representation of this feed (HTML) --&gt;
    &lt;link href="http://xyz.org/download/index.html" rel="alternate"
        type="text/html" hreflang="en"
        title="An HTML version of this
        document"/&gt;
    &lt;!-- link to this feed in HTML in another language--&gt;
    &lt;link href="http://xyz.org/download/index.de.html" rel="alternate"
        type="text/html" hreflang="de"
        title="An HTML version of this
        document in German"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The HTML representation is useful to control how Atom feeds are displayed in different browsers and to be sure that all download links are easily accessible.</p>
</div>
<div class="paragraph">
<p>For example, in Internet Explorer the link to dataset feeds are not clickable.</p>
</div>
<div class="paragraph">
<p>The two screenshots shown in Figure 6 and Figure 7 illustrate that, when using the HTML representations, feed visualization is consistent between browsers, and download links (boxed in red) are accessible from the top feed.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image7.png" alt="image" width="605" height="367">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 6. Atom feed viewed in Firefox</strong></p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image8.png" alt="image" width="605" height="381">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 7. Atom feed viewed in Internet Explorer</strong></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 2</strong><br>
Alternative representations (for example HTML) should be provided as links. Where this is done the 'rel' attribute should have the value "alternate".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE In the Apple Safari browser, Atom feed support has been removed starting in version 6. The open source and free Vienna RSS/Atom feed reader application (<a href="http://www.vienna-rss.org/" class="bare">http://www.vienna-rss.org/</a>) has been successfully tested as a replacement of the functionality previously available in Safari.</p>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_id_element">5.1.8. Download Service Feed: feed 'id' element</h4>
<div class="paragraph">
<p>An identifier shall be provided for the feed as a whole. This identifier shall be the same HTTP URI that was used for the 'self' reference and shall therefore also dereference to the feed itself.</p>
</div>
<div class="paragraph">
<p>(In the Atom standard it is not required that the 'id' matches the 'self' reference but since this Download TG requires the use of HTTP URIs to identify feeds they are the same as a consequence).</p>
</div>
<div class="paragraph">
<p><strong><em>Example 8: Example feed id element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- identifier --&gt;
&lt;id&gt;http://xyz.org/download/en.xml&lt;/id&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 9</strong><br>
The 'id' element of a feed shall contain an HTTP URI which dereferences to the feed</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_rights_element">5.1.9. Download Service Feed: feed 'rights' element</h4>
<div class="paragraph">
<p>The 'rights' element shall be used to capture any information about rights or restrictions to the Download Service. Typically this will correspond with the value of 'accessConstraints' in the corresponding service metadata record. Note that rights and restrictions may also be applied to individual pre-defined datasets in the linked "Dataset feed".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 9: Example feed rights element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- rights, access restrictions --&gt;
&lt;rights&gt;Copyright (c) 2012, XYZ; all rights reserved&lt;/rights&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 10</strong><br>
The 'rights' element of a feed shall contain information about rights or restrictions for that feed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_updated_element">5.1.10. Download Service Feed: feed 'updated' element</h4>
<div class="paragraph">
<p>The 'updated' element shall contain the date and time of the most recent changes to the feed.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 10: Example updated element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- date/time this feed was last updated --&gt;
&lt;updated&gt;2012-03-31T13:45:03Z&lt;/updated&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 11</strong><br>
The 'updated' element of a feed shall contain the date, time and timezone at which the feed was last updated.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_author_element">5.1.11. Download Service Feed: feed 'author' element</h4>
<div class="paragraph">
<p>The 'author' element shall contain the contact information for the author of the feed. This may be contact information for an individual or organisation responsible for the feed. More than one author element may be provided.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 11: Example feed author element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- author contact information --&gt;
    &lt;author&gt;
        &lt;name&gt;John Doe&lt;/name&gt;
        &lt;email&gt;doe@xyz.org&lt;/email&gt;
    &lt;/author&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 12</strong><br>
The 'author' element of a feed shall contain current contact information for an individual or organisation responsible for the feed. At the minimum, a name and email address shall be provided as contact information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_feed_entry_element">5.1.12. Download Service Feed: feed 'entry' element</h4>
<div class="paragraph">
<p>As per TG Requirement 1 an entry shall be included for each pre-defined dataset.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 12: Example entry showing a link to a single "Dataset Feed"</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;!-- entry for a "Dataset Feed" for a pre-defined dataset --&gt;
    &lt;entry&gt;
        &lt;!-- title for "Dataset Feed" for pre-defined dataset --&gt;
        &lt;title&gt;Water network ABC Dataset Feed&lt;/title&gt;
		   &lt;!—Spatial Dataset Unique Resourse Identifier for this dataset--&gt;
	&lt;inspire_dls:spatial_dataset_identifier_code&gt;wn_id1&lt;/inspire_dls:spatial_dataset_identifier_code&gt;                                  &lt;inspire_dls:spatial_dataset_identifier_namespace&gt;http://xyz.org/&lt;/inspire_dls:spatial_dataset_identifier_namespace&gt;
		   &lt;!-- link to dataset metadata record --&gt;
    		 &lt;link href="http://xyz.org/metadata/abcISO19139.xml" rel="describedby" type=”application/xml”/&gt;
        &lt;!-- link to "Dataset Feed" for pre-defined dataset --&gt;
        &lt;link rel="alternate" href="http://xyz.org/data/waternetwork_feed.xml" type="application/atom+xml"
        hreflang="en" title="Feed containing the pre-defined waternetwork dataset (in one or more downloadable formats)"/&gt;
        &lt;!-- identifier for this entry --&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork&lt;/id&gt;
        &lt;!-- rights, access info for pre-defined dataset --&gt;
        &lt;rights&gt;Copyright (c) 2002-2011, XYZ; all rights reserved&lt;/rights&gt;
        &lt;!-- last date/time this entry was updated --&gt;
		   &lt;updated&gt;2012-03-31T13:45:03Z&lt;/updated&gt;
        &lt;!-- optional GeoRSS-Simple polygon defining the bounding box of the pre-defined dataset. Must be lat lon --&gt;
        &lt;georss:polygon&gt;47.202 5.755 55.183 5.755 55.183 15.253 47.202 15.253 47.202 5.755&lt;/georss:polygon&gt;
    &lt;/entry&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_inspire_identifier_elements">5.1.13. Download Service Feed: entry INSPIRE identifier elements</h4>
<div class="paragraph">
<p>Each entry in the download service feed shall contain the INSPIRE Spatial Dataset Unique Resource Identifier for the dataset described by that entry. This is the Spatial Dataset Unique Resource Identifier as described in the INSPIRE Metadata Regulation [<strong>INS MD</strong>]. This shall be provided in two parts, the code (<em>inspire_dls:spatial_dataset_identifier_code</em>) and namespace (<em>inspire_dls:dsid_namspace</em>). The <em>inspire_dls</em> namespace is defined as in the feed as follows:</p>
</div>
<div class="paragraph">
<p><strong><em>Example 13: Namespace declaration for inspire_dls</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">xmlns:inspire_dls="http://inspire.ec.europa.eu/schemas/inspire_dls/1.0"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Example 14: Example Spatial Dataset URI</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!—Spatial Dataset Unique Resourse Identifier for this dataset--&gt;
&lt;inspire_dls:spatial_dataset_identifier_code&gt;wn_id1&lt;/inspire_dls:spatial_dataset_identifier_code&gt;                                  &lt;inspire_dls:spatial_dataset_identifier_namespace&gt;http://xyz.org/data&lt;/inspire_dls:spatial_dataset_identifier_namespace&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 13</strong><br>
Each feed 'entry' in a "Download Service Feed" shall contain <em>spatial_dataset_identifier_code</em> and <em>spatial_dataset_identifier_namespace</em> elements which together contain the Spatial Dataset Unique Resource Identifier for the dataset described by the feed. These elements are defined in the <em>inspire_dls</em> schema which shall be included in the namespace declarations of the feed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_link_to_dataset_metadata_record">5.1.14. Download Service Feed: entry 'link' to dataset metadata record</h4>
<div class="paragraph">
<p>Each entry shall contain a link to a (ISO 19139) dataset metadata record. There shall be only one such link in each feed entry.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 15: Example link to a dataset metadata record</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- link to dataset metadata record --&gt;
&lt;link href="http://xyz.org/metadata/abcISO19139.xml" rel="describedby" type="application/xml"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 14</strong><br>
Each feed 'entry' in a "Download Service Feed" shall contain a link to a Dataset metadata record. This link shall have a 'rel' attribute with a value of "describedby" and a 'type' attribute with a value "application/xml"</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_link_to_dataset_feed">5.1.15. Download Service Feed: entry 'link' to dataset feed</h4>
<div class="paragraph">
<p>Each entry shall contain a link to a "Dataset Feed" (Dataset Feeds are described in Section 5.2). There shall be only one such link in each feed entry.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 16: Example link to a single "Dataset Feed"</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- link to "Dataset Feed" for pre-defined dataset --&gt;
&lt;link rel="alternate" href="http://xyz.org/data/waternetwork_feed.xml" type="application/atom+xml"
        hreflang="en" title="Feed containing the pre-defined waternetwork dataset (in one or more downloadable formats)"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 15</strong><br>
Each feed 'entry' in a "Download Service Feed" shall contain a single link to a "Dataset Feed". This link shall have a 'rel' attribute with a value of "alternate" and a 'type' attribute with a value "application/atom+xml", "application/xml" or "text/xml".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_link_to_wfs_implementation_only_for_hybrid_implementations">5.1.16. Download Service Feed: entry 'link' to WFS implementation (only for "hybrid implementations")</h4>
<div class="paragraph">
<p>If the Atom implementation is complemented by one or several WFS for the Direct Access operations Get Spatial Object and Describe Spatial Object Type ("hybrid implementation", see section 4), a link needs to be established to the service offering these additional operations.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 16</strong><br>
In case of a "hybrid implementation" based on Atom for Part A of [<strong>INS NS</strong>, Annex IV] and WFS for Parts B and C of [<strong>INS NS</strong>, Annex IV], a link shall be provided to the WFS Capabilities document. Where this is done the '<em>rel'</em> attribute shall have the value "related" and the <em>'type'</em> attribute shall have the value "application/xml"</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Example 17: Example link to a WFS implementation for the Direct Access operations</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- link to related WFS implementing Direct Access operations --&gt;
&lt;link rel="related" href="http://xyz.org/wfs?request=GetCapabilities&amp;amp;service=WFS&amp;amp;version=2.0.0" type="application/xml" title="Service implementing Direct Access operations"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_additional_elements">5.1.17. Download Service Feed: entry, additional elements</h4>
<div class="paragraph">
<p>The guidance for id, title and updated elements for each entry is equivalent to the guidance for the same elements in the enclosing feed and can be summarised by the following requirements and recommendations:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 17</strong><br>
The 'id' element of a feed entry in a Download Service Feed shall contain an identifier for that feed entry.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 18</strong><br>
The 'title' element of a feed entry in a Download Service Feed shall be populated with a human readable title for the feed entry.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 19</strong><br>
The 'updated' element of a feed entry in a Download Service Feed shall contain the date, time and timezone at which the feed entry was last updated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since the 'rights' information may often be the same for all entries in a feed this element may be omitted for each individual entry if it is present in the enclosing feed. The rights in this case refer to the pre-defined dataset the feed entry describes.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 3</strong><br>
The 'rights' element of a feed entry may contain information about rights or restrictions specific to that feed entry.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the case where 'rights' information is not given for individual entries, the entries assume the rights of the enclosing feed.</p>
</div>
<div class="paragraph">
<p>Similarly, the 'author' information may often be the same for all entries in a feed so this element may also be omitted for each individual entry.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 4</strong><br>
The 'author' element of a feed entry may contain information about the author specific to that feed entry.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Again, in the case where 'author' information is not given for individual entries, the entries assume the author properties of the enclosing feed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_summary_element">5.1.18. Download Service Feed: entry 'summary' element</h4>
<div class="paragraph">
<p>The 'summary' element may contain additional human-readable information about the feed entry.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 18: Example summary element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- summary --&gt;
&lt;summary&gt;This is the entry for water network ABC Dataset&lt;/summary&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 5</strong><br>
The 'summary' element of a feed entry should contain a summary description of the feed entry.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_georss_element">5.1.19. Download Service Feed: entry 'georss' element</h4>
<div class="paragraph">
<p>To enable GeoRSS [<strong>GeoRSS</strong>] tools to display INSPIRE Atom feeds we recommend augmenting the Atom feed entries with GeoRSS elements to show the geographic extent of the datasets.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 6</strong><br>
GeoRSS-Simple should be used in feed entries to indicate the geographic extent of the dataset.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since georss:box is not well supported in common tools it is recommended to use georss:polygon to define bounding boxes, and georss:point when a dataset&#8217;s geometric extent is represented by a single point location. It is not recommended to use georss:box.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 7</strong><br>
The bounding box of the dataset described by a feed entry should be provided using a georss:polygon, unless the geographic extent is a single point in which case georss:point should be used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As determined by the GeoRSS specification, the extent of the dataset must be in WGS84 lat-lon. This extent should correspond with the 'Geographic Bounding Box' in the corresponding dataset metadata record.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 19:GeoRSS-Simple Point</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!—example GeoRSS-Simple Point --&gt;
&lt;georss:point&gt;53.1 10.2&lt;/georss:point&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Example 20: GeoRSS-Simple Polygon</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!— a bounding box expressed as a GeoRSS-Simple Polygon --&gt;
&lt;georss:polygon&gt;47.202 5.755 55.183 5.755 55.183 15.253 47.202 15.253 47.202 5.755&lt;/georss:polygon&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the polygon describing a rectangular bounding box contains five points, the last being the same as the first.</p>
</div>
</div>
<div class="sect3">
<h4 id="_download_service_feed_entry_category_element_crss">5.1.20. Download Service Feed: entry 'category' element – CRSs</h4>
<div class="paragraph">
<p>The category element shall be used within the feed entry to indicate the CRSs in which the pre-defined dataset is available.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 21: Example CRS descriptions</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- CRSs in which the pre-defined Dataset is available --&gt;
&lt;category term="http://www.opengis.net/def/crs/EPSG/0/25832" label="ETRS89 / UTM zone 32N"/&gt;
&lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258" label="ETRS89"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 20</strong><br>
Each feed entry shall contain an Atom 'category' element for each CRS in which the pre-defined dataset is available. This category element shall refer to a well-known definition of a coordinate reference system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This Technical Guidance places no requirements on the coordinate reference systems in which data should be made available. Guidance and requirements for coordinate reference systems is given in the thematic Data Specifications and the regulation on the interoperability of spatial datasets and services <strong>[INS SDS]</strong>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_atom_dataset_feed_containing_download_links_to_a_pre_defined_dataset">5.2. Atom "Dataset feed" containing download links to a pre-defined dataset</h3>
<div class="paragraph">
<p>The following "Dataset feed" example contains the description of the spatial objects in the pre-defined dataset and entries, which point to the pre-defined dataset in a variety of CRS and format combinations. This example is conformant to the Pre-defined Atom conformance class and can be used as a template for implementation.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 22: Example "Dataset Feed" containing links to a pre-defined dataset</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- Example "Dataset Feed" --&gt;
&lt;feed xmlns="http://www.w3.org/2005/Atom"
    xmlns:georss="http://www.georss.org/georss" xml:lang="en"&gt;
    &lt;!-- feed title --&gt;
    &lt;title&gt;XYZ Example INSPIRE Dataset ABC Download&lt;/title&gt;
    &lt;!-- feed subtitle --&gt;
    &lt;subtitle&gt;INSPIRE Download Service, of organisation XYZ providing dataset ABC for the Hydrography theme&lt;/subtitle&gt;
    &lt;!-- links to INSPIRE Spatial Object Type definitions for this pre-defined dataset --&gt;
    &lt;link href="http://inspire-registry.jrc.ec.europa.eu/registers/FCD/items/105" rel="describedby" type=”text/html”/&gt;
    &lt;link href="http://inspire-registry.jrc.ec.europa.eu/registers/FCD/items/412" rel="describedby" type=”text/html”/&gt;
    &lt;!-- self-referencing link to this feed --&gt;
    &lt;link href="http://xyz.org/data/abc/en.xml" rel="self" type="application/atom+xml"
        hreflang="en" title="This document"/&gt;
    &lt;!-- link to this feed in another language --&gt;
    &lt;link href="http://xyz.org/data/abc/de.xml" rel="alternate"
        type="application/atom+xml" hreflang="de"
        title="This document in German"/&gt;
	  &lt;!—‘upward’ link to the corresponding download service feed --&gt;
    &lt;link href="http://xyz.org/download/en.xml" rel="up" type="application/atom+xml" hreflang="en" title="The parent service feed document"/&gt;
    &lt;!-- identifier --&gt;
    &lt;id&gt;http://xyz.org/data/abc/waternetwork.xml&lt;/id&gt;
    &lt;!-- rights, access restrictions --&gt;
    &lt;rights&gt;Copyright (c) 2012, XYZ; all rights reserved&lt;/rights&gt;
    &lt;!-- date/time this feed was last updated --&gt;
    &lt;updated&gt;2012-03-31T13:45:03Z&lt;/updated&gt;
    &lt;!-- author contact information --&gt;
    &lt;author&gt;
        &lt;name&gt;John Doe&lt;/name&gt;
        &lt;email&gt;doe@xyz.org&lt;/email&gt;
    &lt;/author&gt;
    &lt;!-- download the pre-defined dataset in GML format in CRS EPSG:25832 --&gt;
    &lt;entry&gt;
		&lt;title&gt;Water network in CRS EPSG:25832 (GML)&lt;/title&gt;
        &lt;link rel=”alternate" href="http://xyz.org/data/abc/waternetwork_25832.gml" type="application/gml+xml;version=3.2" hreflang="en" length=”34987” title="Water network dataset encoded as a GML 3.2 document in ETRS89 UTM zone 32N (http://www.opengis.net/def/crs/EPSG/0/25832)"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_25832.gml&lt;/id&gt;
        &lt;updated&gt;2011-06-15T11:12:34Z&lt;/updated&gt;
			&lt;category term="http://www.opengis.net/def/crs/EPSG/0/25832"  label="ETRS89 / UTM zone 32N"/&gt;
    &lt;/entry&gt;
    &lt;!-- download the same pre-defined dataset in GML format in CRS EPSG:4258--&gt;
    &lt;entry&gt;
		&lt;title&gt;Water network in CRS EPSG:4258 (GML)&lt;/title&gt;
        &lt;!--file download link--&gt;
        &lt;link rel="alternate" href="http://xyz.org/data/abc/waternetwork_WGS84.gml" type="application/gml+xml;version=3.2" hreflang="en" length=”37762” title="Water Network encoded as a GML 3.2 document in WGS84 geographic coordinates (http://www.opengis.net/def/crs/OGC/1.3/CRS84)"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_WGS84.gml&lt;/id&gt;
        &lt;updated&gt;2011-06-14T12:22:09Z&lt;/updated&gt;
			 &lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"                                                label="ETRS89"/&gt;
    &lt;/entry&gt;
    &lt;!-- download the same pre-defined dataset in ShapeFile format in CRS EPSG:25832, ShapeFile is in a single zip archive.--&gt;
        &lt;entry&gt;
		&lt;title&gt;Water network in CRS EPSG:25832 (ShapeFile)&lt;/title&gt;
        &lt;link rel=”alternate" href="http://xyz.org/data/abc/waternetwork_25832.zip" type="application/x-shapefile" hreflang="en" length=”89274”
            title="Water network dataset encoded as a ShapeFile in ETRS89 UTM zone 32N (http://www.opengis.net/def/crs/EPSG/0/25832)"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_25832.zip&lt;/id&gt;
        &lt;updated&gt;2011-06-15T11:12:34Z&lt;/updated&gt;
			&lt;category term="http://www.opengis.net/def/crs/EPSG/0/25832"  label="ETRS89 / UTM zone 32N"/&gt;
    &lt;/entry&gt;
    &lt;!-- download the same pre-defined dataset in ShapeFile format in CRS EPSG:4258, ShapeFile is in a single zip archive.--&gt;
    &lt;entry&gt;
		&lt;title&gt;Water network in CRS EPSG:4258 (ShapeFile)&lt;/title&gt;
        &lt;link rel="alternate" href="http://xyz.org/data/abc/waternetwork_WGS84.zip" type="application/x-shapefile" hreflang="en" length=”78973” title="Water Network encoded as a ShapeFile in WGS84 geographic coordinates (http://www.opengis.net/def/crs/OGC/1.3/CRS84)"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_WGS84.zip&lt;/id&gt;
        &lt;updated&gt;2011-06-14T12:22:09Z&lt;/updated&gt;
			 &lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"                                                label="ETRS89"/&gt;
    &lt;/entry&gt;
&lt;/feed&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The guidance for the <em>title</em>, <em>subtitle</em>, <em>id</em>, <em>rights</em>, <em>updated</em> and <em>author</em> elements is the same as for the Dataset Download Feed and the corresponding sections should be referred to. The requirements are summarised as follows:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 21</strong><br>
The 'title' element of a "Dataset Feed" shall be populated with a human readable title for the feed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 8</strong><br>
The 'subtitle' element of a "Dataset Feed" may be populated with a human readable subtitle for the feed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 22</strong><br>
The 'id' element of a "Dataset Feed" shall contain an HTTP URI which dereferences to the feed</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 23</strong><br>
The 'rights' element of a "Dataset Feed" shall contain information about rights or restrictions for that feed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 24</strong><br>
The 'updated' element of a "Dataset Feed" shall contain the date, time and timezone at which the feed was last updated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 25</strong><br>
The 'author' element of a "Dataset Feed" shall contain current contact information for an individual or organisation responsible for the feed. At the minimum, a name and email address shall be provided as contact information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The pre-defined datasets (e.g. as GML files) are made available for download within a feed 'entry' of the Dataset Feed.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 26</strong><br>
Each "Dataset Feed" shall contain at least one feed entry containing links to download the pre-defined dataset (e.g. as a GML file).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the pre-defined dataset is available to download in different formats or different Coordinate Reference Systems then a separate entry must be provided for each available format/CRS combination.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 27</strong><br>
Each "Dataset Feed" shall contain separate entries for each format/CRS combination in which the pre-defined dataset is available to download.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_dataset_feed_link_element_link_to_spatial_object_descriptions">5.2.1. Dataset Feed: 'link' element: link to Spatial Object descriptions</h4>
<div class="paragraph">
<p>For each Spatial Object Type in the dataset Atom links shall be provided to the corresponding Spatial Object Type definition in the INSPIRE registry. Where a dataset is not an interoperable format described by the Data Specifications then a local scheme should be used to identify the spatial object type. These links shall use the 'describedby' relation type and the appropriate media type for the resource. For definitions in the INSPIRE registry the media type shall be "text/html".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 23: Links to the INSPIRE registry (for Watercourse and Standing Water)</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!—links to INSPIRE Spatial Object Type definitions for this pre-defined dataset --&gt;
    &lt;link href="http://inspire-registry.jrc.ec.europa.eu/registers/FCD/items/105" rel="describedby" type=”text/html”/&gt;
    &lt;link href="http://inspire-registry.jrc.ec.europa.eu/registers/FCD/items/412" rel="describedby" type=”text/html”/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;!— Example of a non-conformant spatial object type “riversegment” -&#8594;<br>
    &lt;link href="http://mydomain.com/glossary/riversegment" rel="describedby" type=”text/html”/&gt;</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 28</strong><br>
Each feed shall contain an Atom 'link' element for each INSPIRE Spatial Object Type in the dataset. The link shall refer to the INSPIRE Registry unless the data does not conform to any Data Specification in which case a link to a local definition of the Spatial Object Type shall be used instead. The value of the 'rel' attribute of this element shall be "describedby". For definitions in the INSPIRE registry the value of the 'type' attribute shall be "text/html".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_optional_link_element_link_to_download_feed">5.2.2. Dataset Feed: optional 'link' element: link to Download feed</h4>
<div class="paragraph">
<p>In order to facilitate the reverse navigation between the Dataset feed and its 'parent' Download feed it is recommended that a link element is included in the Dataset feed that links back to the parent Download feed. This link should have a 'rel' value of "up" and a type attribute with a value "application/atom+xml".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 24: Optional upward link to download service feed</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">	  &lt;!—‘upward’ link to the corresponding download service feed --&gt;
    &lt;link href="http://xyz.org/download/en.xml" rel="up" type="application/atom+xml" hreflang="en" title="The parent service feed document"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 9</strong><br>
A link element should be included that links to the 'parent' Dataset feed. This link should have a 'rel' attribute with a value of "up" and a 'type' attribute with a value of "application/atom+xml".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_entry_link_element_link_to_pre_defined_dataset">5.2.3. Dataset Feed: Entry 'link' element: link to pre-defined dataset</h4>
<div class="paragraph">
<p>The link element of an entry is also used to provide a link which resolves to the pre-defined dataset. This shall be a direct link to the dataset (e.g. to a file). If the pre-defined dataset is available in different encoding formats (e.g. GML, ShapeChange, NetCDF) or in different Coordinate Reference Systems (CRS) then separate entries shall be used for each available combination of CRS and format.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 25: Example link to pre-defined dataset</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;!-- download link for pre-defined dataset --&gt;
    &lt;link rel="alternate" href="http://xyz.org/data/waternetwork.gml"
        type="application/gml+xml;version=3.2" hreflang="en" length=”34987”
        title="The
        dataset encoded as a GML 3.2 document in ETRS89 UTM zone 32N
        (http://www.opengis.net/def/crs/EPSG/0/25832)"/&gt;
    &lt;id&gt;http://xyz.org/data/abc/waternetwork_25832.gml&lt;/id&gt;
    &lt;updated&gt;2011-06-15T11:12:34Z&lt;/updated&gt;
	  &lt;category term="http://www.opengis.net/def/crs/EPSG/0/25832"  label="ETRS89 / UTM zone 32N"/&gt;
 &lt;!-- download the same pre-defined dataset in ShapeFile format in CRS EPSG:4258, ShapeFile is in a single zip archive.--&gt;
  &lt;entry&gt;
    &lt;title&gt;Water network in CRS EPSG:4258 (ShapeFile)&lt;/title&gt;
    &lt;link rel="alternate" href="http://xyz.org/data/abc/waternetwork_WGS84.zip" type="application/x-shapefile" hreflang="en" title="Water Network encoded as a ShapeFile in WGS84 geographic coordinates (http://www.opengis.net/def/crs/OGC/1.3/CRS84)"/&gt;
    &lt;id&gt;http://xyz.org/data/abc/waternetwork_WGS84.zip&lt;/id&gt;
    &lt;updated&gt;2011-06-14T12:22:09Z&lt;/updated&gt;
    &lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"  label="ETRS89"/&gt;
  &lt;/entry&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that if a dataset spans more than one physical file (e.g. if it is stored in tiles or some other sub-division for practical purposes) then additional link elements may be provided within the entry for that dataset, one link per physical file according to the additional guidance in Section 5.2.4.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 29</strong><br>
Each feed entry shall contain an Atom 'link' element that links to the pre-defined dataset file described by the entry. The value of the 'rel' attribute of this element shall be "alternate" and a "length" attribute (providing the length of the linked resource in octets*) shall be provided if possible. Where a dataset is provided in multiple physical files, additional 'link' elements shall be provided in the feed entry, one link for each physical file.</p>
</div>
<div class="paragraph">
<p>*1 octet = 8 bits (usually synonymous with 1 byte)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The 'type' attribute of the link element shall be used to indicate the media type of the resource that will be returned if the link is resolved. For example, 'application/gmlxml' (see also Section 5.2.4 below).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 30</strong><br>
The 'type' attribute of the link element shall be used to indicate the media type of resource that will be returned if the link is resolved. A valid media type must be used for the value of this attribute; if the media type is not registered with IANA it should still follow the conventions for unregistered media types.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the case where pre-defined datasets are provided in multiple languages, a different link element shall be used for each language and the 'hreflang' attribute shall be used with the appropriate language code.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 31</strong><br>
Where alternative language representations of datasets are linked to, the 'hreflang' attribute of the link element shall be used to indicate the language of the target dataset as described in the Atom specification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_guidance_for_datasets_which_contain_multiple_files">5.2.4. Dataset Feed: guidance for datasets which contain multiple files.</h4>
<div class="paragraph">
<p>Where a dataset is provided in multiple physical files and it is not desirable or practical to deliver them within a single download (e.g. as a zip), then it is also possible to deliver the individual files separately by adding multiple 'link' elements to the feed entry. This may be useful, for example, if there are a large number of files. There should be a separate 'link' element for each file. These links shall have a 'rel' value equal to "section".</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 32</strong><br>
Where a dataset is provided in multiple physical files: each file shall be linked to via a separate 'link' element. Each of these 'link' elements shall have a 'rel' value equal to "section".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Additionally there is a need to provide a description of the structure of the collection of files. This description shall either be provided as free text within a 'content' element, or as another link, with a 'rel' value of "alternate". This link shall point to a descriptive document that describes how the parts of the dataset fit together. This Technical Guidance places no restrictions on the type or contents of this descriptive document. However when such a link is added an appropriate media type shall be used for the 'type' attribute.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 33</strong><br>
Where a dataset is provided in multiple physical files: a description of the dataset structure shall be provided EITHER in an atom 'content' element as free text, OR in an external document which is the target of another 'link' element. Where a 'link' element is used this element shall have a 'rel' value equal to "alternate" and a suitable media type shall be used for the 'type' value.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For the purposes of differentiating between files, optional 'bbox' and/or 'time' attributes may be added to the link elements. Where a 'bbox' attribute is used the value of this shall be formatted in the same way as georss:box element, and when a 'time' attribute is used it shall be formatted as a ISO 8601 time strings.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 26: Use of bbox and time attributes</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!—example use of bbox and time attributes --&gt;
      &lt;link rel="section" href="http://xyz.org/data/file.tif" bbox=”50.0 5.0 50.9 5.9” time=”2012-06-01T13:00:00Z” type="image/tiff" hreflang="en" title="example file"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 10</strong><br>
Where a dataset is provided in multiple physical files: a 'bbox' attribute may be used to describe the geospatial extent of a particular file. If this is used, then the value of this attribute should be structured according to the georss:box structure.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 10</strong><br>
Where a dataset is provided in multiple physical files: a 'time' attribute may be used to describe the temporal extent of a particular file. If this is used, then the value of this attribute should be structured according to the ISO 8601 standard.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example entry shows a dataset that is in three parts each with a separate bounding box, along with a content element describing the dataset.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 27: Multi-part dataset described by a content element</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;entry&gt;
		&lt;title&gt;Water network in GeoTIFF&lt;/title&gt;
			 &lt;content&gt;This dataset consists of three GeoTIFF files. Each file has data for a different geospatial area, identified by the bbox attribute.&lt;/content&gt;
        &lt;link rel="section" href="http://xyz.org/data/abc/waternetwork_WGS84_part1.tif" bbox=”50.0 5.0 50.9 5.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 1"/&gt;
        &lt;link rel="section" href="http://xyz.org/data/abc/waternetwork_WGS84_part2.tif" bbox=”50.0 6.0 50.9 6.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 2"/&gt;
        &lt;link rel”section" href="http://xyz.org/data/abc/waternetwork_WGS84_part3.tif" bbox=”50.0 7.0 50.9 7.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 3"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_WGS84&lt;/id&gt;
        &lt;updated&gt;2011-06-14T12:22:09Z&lt;/updated&gt;
   	   &lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"  label="ETRS89"/&gt;
    &lt;/entry&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here is the same example but using the 'alternate' link instead of the 'content' element.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 28: Multi-part dataset described by an external document</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;!—3 part dataset in GeoTIFF format (with alternate link)--&gt;
    &lt;entry&gt;
		&lt;title&gt;Water network in GeoTIFF&lt;/title&gt;
        &lt;link rel="alternate" href="http://xyz.org/data/abc/waternetwork_description.html"type="text/html title="Description of Water Network files"/&gt;
        &lt;link rel="section" href="http://xyz.org/data/abc/waternetwork_WGS84_part1.tif" bbox=”50.0 5.0 50.9 5.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 1"/&gt;
        &lt;link rel="section" href="http://xyz.org/data/abc/waternetwork_WGS84_part2.tif" bbox=”50.0 6.0 50.9 6.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 2"/&gt;
        &lt;link rel”section" href="http://xyz.org/data/abc/waternetwork_WGS84_part3.tif" bbox=”50.0 7.0 50.9 7.9” type="image/tiff" hreflang="en" title="Water Network encoded as a GeoTiff – part 3"/&gt;
        &lt;id&gt;http://xyz.org/data/abc/waternetwork_WGS84&lt;/id&gt;
        &lt;updated&gt;2011-06-14T12:22:09Z&lt;/updated&gt;
   	   &lt;category term="http://www.opengis.net/def/crs/EPSG/0/4258"  label="ETRS89"/&gt;
    &lt;/entry&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_guidance_on_media_types">5.2.5. Dataset Feed: guidance on media types</h4>
<div class="paragraph">
<p>The media type of a spatial data file referenced in a (atom) link shall be indicated in the type attribute of the link (as per TG Requirement 30).</p>
</div>
<div class="paragraph">
<p>To facilitate interoperability in INSPIRE, only media types listed in the INSPIRE media type registry shall be used. This registry will be maintained at the following URI:</p>
</div>
<div class="paragraph">
<p><a href="http://inspire.ec.europa.eu/media-types" class="bare">http://inspire.ec.europa.eu/media-types</a></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 34</strong><br>
Only media types listed in the INSPIRE media-types register shall be used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Example 29: GML download</em></strong><br>
<em>For example, the media type for a GML file is "application/gmlxml" with additional (optional) parameters for the character set used and the GML version.</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>application/gmlxml;charset=utf-8;version=3.2</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Example 30: Zipped media</em></strong><br>
<em>For example, no registered media type exists for zipped Esri ShapeFiles or File Geodatabases so media types such as [source,xml,subs="+quotes",align=center] application/x-shapefile or application/x-filegdb might be used in INSPIRE as a stopgap until common practice emerges. (see the registry at</em> <a href="http://inspire.ec.europa.eu/media-types" class="bare">http://inspire.ec.europa.eu/media-types</a> for actual media types).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>application/x-shapefile
application/x-filegdb</code></pre>
</div>
</div>
<div class="paragraph">
<p>If transfer of compressed data is desirable for particular uncompressed files then compression as supported by HTTP 1.1 may be used. It is recommended that clients wishing to benefit from HTTP compression shall set their HTTP Accept-Encoding header to "gzip, deflate".</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 12</strong><br>
For files that are made available uncompressed, compression is offered by HTTP 1.1 server and clients. As spatial data sets may be large, clients should set their HTTP Accept-Encoding header to include "gzip, deflate" in each request for uncompressed files.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_entry_georss_element">5.2.6. Dataset Feed: entry 'georss' element</h4>
<div class="paragraph">
<p>The guidance on georss for Download Service Feeds in section 5.1.19 is also applicable to Dataset Feeds. Any TG Requirements and TG Recommendations in this section also apply here.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dataset_feed_entry_category_element">5.2.7. Dataset Feed: entry 'category' element</h4>
<div class="paragraph">
<p>Finally, each entry uses the category element to identify the CRS.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 31: Using the category element to refer to an EPSG code (registered at OGC)</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;category label="ETRS89 / UTM zone 32N" term="http://www.opengis.net/def/crs/EPSG/0/25832"&gt;
&lt;/category&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 35</strong><br>
Each CRS representation shall have a 'category' element which refers to the CRS definition and code.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_language_requirements_for_atom_implementation">5.3. Language Requirements for Atom Implementation</h3>
<div class="paragraph">
<p>The following two requirements are mandatory for all Download Services. In the case of the Atom implementation they are automatically met if the remaining requirements in this Section (5.3) are followed.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 36</strong><br>
A Download Service metadata response shall contain a list of the natural languages supported by the service. This list shall contain one or more languages that are supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 37</strong><br>
A client may specify a specific language in a request. If the requested language is contained in the list of supported languages, the natural language fields of the service response shall be in the requested language. If the requested language is not supported by the service, then this parameter shall be ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If an Atom feed is available in different languages a link element shall be provided linking to each alternative language version of the document. The following guidance is applicable to "Download Service Feeds" and "Dataset Feeds".</p>
</div>
<div class="paragraph">
<p>The value of the 'rel' attribute of these elements shall be "alternate" and the 'hreflang' attribute must be populated with the appropriate language code for the linked document in each case.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 32: Alternative representation is available in German (hreflang="de")</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;link href="http://xyz.org/download/de.xml" hreflang="de" rel="alternate" title="The download service information in German" type="application/atom+xml"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 38</strong><br>
Where a feed is made available in alternative languages, links shall be provided to these alternative representations. These links shall each use the 'hreflang' attribute to indicate the language of the alternative representation. The value of the 'rel' attribute for these link elements this element shall be "alternate".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that where documents are available in multiple languages the 'self' link refers to the version of the document in which it is found.</p>
</div>
<div class="paragraph">
<p>So while an English feed may contain the following self and alternate link elements:</p>
</div>
<div class="paragraph">
<p><strong><em>Example 33: English feed with alternative version in German</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;link href="http://xyz.org/download/en.xml" rel="self" type="application/atom+xml"
     hreflang="en" title="This document"/&gt;
&lt;link href="http://xyz.org/download/de.xml" rel="alternate"
     type="application/atom+xml" hreflang="de" title="The download
     service information in German"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding German version of the feed inverts the self and alternate link elements so that 'self' refers to the German feed and 'alternate' to the English.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 34: German feed with alternative version in English</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;link href="http://xyz.org/download/de.xml" rel="self"    type="application/atom+xml" hreflang="de" title="Dieses Dokument/&gt;
&lt;link href="http://xyz.org/download/en.xml" rel="alternate"
     type="application/atom+xml" hreflang="en" title="
Die Informationen zum Downloaddienst in Englisch"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_opensearch_document_structure">5.4. OpenSearch Document structure.</h3>
<div class="paragraph">
<p>In order to provide 'operations' in a conventional sense and document them as required by the Network Services Regulation [<strong>INS NS</strong>], the Open Search standard is proposed, which makes it possible to specify, via an xml document with a well-known structure, operations with custom parameters in an interoperable way. OpenSearch engines are also recognized by the major browsers like Mozilla Firefox, Internet Explorer, Safari and Chrome.</p>
</div>
<div class="paragraph">
<p>This Open Search description document is linked to from the "Download Service Feed". In addition to the descriptive document it is necessary to implement a simple service to satisfy the Get Spatial Data Set and Describe Spatial Data Set operations. Example code can be found in Annex A.</p>
</div>
<div class="paragraph">
<p>This Technical Guidance does not place any requirements on the technology used to implement the simple service.</p>
</div>
<div class="paragraph">
<p>The example given in Annex A uses content negotiation to identify which operation to perform. This means that even though the operation endpoint is only one, i.e. <a href="http://xyz.org/search.php" class="bare">http://xyz.org/search.php</a>, the client has to set the HTTP "Accept" Header to the correct value in order to receive the expected result.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 39</strong><br>
A simple service to perform the Describe Spatial Dataset and Get Spatial Data Set operations shall be provided and described by an OpenSearch description document.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Example 35: Open Search description document</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;OpenSearchDescription xmlns="http://a9.com/-/spec/opensearch/1.1/" xmlns:inspire_dls="http://inspire.ec.europa.eu/schemas/inspire_dls/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://a9.com/-/spec/opensearch/1.1/ OpenSearch.xsd"&gt;
	&lt;ShortName&gt;INSPIRE Demo Download Service.&lt;/ShortName&gt;
	&lt;Description&gt;Search Description for Demo INSPIRE Download Service&lt;/Description&gt;
	&lt;!--URL of this document--&gt;
	&lt;Url type="application/opensearchdescription+xml" rel="self" template="http://xyz.org/opensearchdescription.xml"/&gt;
	&lt;!--Generic URL template for browser integration--&gt;
	&lt;Url type="text/html" rel="results" template="http://xyz.org/search.php?q={searchTerms}"/&gt;
    &lt;!--Describe Spatial Data Set Operation request URL template to be used in order to retrieve the description of Spatial Object Types in a Spatial Dataset--&gt;
&lt;Url type="application/atom+xml" rel="describedby" template="http://xyz.org/search.php?spatial_dataset_identifier_code={inspire_dls:spatial_dataset_identifier_code?}&amp;amp;spatial_dataset_identifier_namespace={inspire_dls:spatial_dataset_identifier_namespace?}&amp;amp;crs={inspire_dls:crs?}&amp;amp;language={language?}&amp;amp;q={searchTerms?}"/&gt;
	&lt;!--Get Spatial Data Set Operation request URL template to be used in order to retrieve a Spatial Dataset--&gt;
	&lt;Url type="application/x-filegdb" rel="results" template="http://xyz.org/search.php?spatial_dataset_identifier_code={inspire_dls:spatial_dataset_identifier_code?}&amp;amp;spatial_dataset_identifier_namespace={inspire_dls:spatial_dataset_identifier_namespace?}&amp;amp;crs={inspire_dls:crs?}&amp;amp;language={language?}&amp;amp;q={searchTerms?}"/&gt;
	&lt;Contact&gt;support@xyz.org&lt;/Contact&gt;
	&lt;Tags&gt;waternetwork_abc&lt;/Tags&gt;
	&lt;LongName&gt;WaterNetwork ABC from Organisation XYZ&lt;/LongName&gt;
	&lt;Image height="16" width="16" type="image/png"&gt;http://xyz.org/waternetworkSearch.png&lt;/Image&gt;
	&lt;!--List of available Spatial Dataset Identifiers --&gt;
	&lt;Query role="example" inspire_dls:spatial_dataset_identifier_namespace="http://xyz.org/" inspire_dls:spatial_dataset_identifier_code="waternetwork" inspire_dls:crs="EPSG:4258" language="en" title="Waternetwork_abc" count="1"/&gt;
	&lt;Developer&gt;European Commission - Joint Research Centre&lt;/Developer&gt;
	&lt;!--Languages  supported by the service. The first language is the default language--&gt;
	&lt;Language&gt;en-gb&lt;/Language&gt;
	&lt;Language&gt;de&lt;/Language&gt;
&lt;/OpenSearchDescription&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_url_element_link_to_self">5.4.1. OpenSearch Description: 'Url' element: link to self</h4>
<div class="paragraph">
<p>The OpenSearch Description shall contain a 'Url' element which contains an HTTP URI for the OpenSearch document itself. This URI shall provide the location of the document and resolve to the document. The value of the 'rel' attribute for this link shall be "self".</p>
</div>
<div class="paragraph">
<p><strong><em>Example 36: Example reference to self</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">	&lt;!--URL of this document--&gt;
	&lt;Url type="application/opensearchdescription+xml" rel="self" template="http://xyz.org/opensearchdescription.xml"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 40</strong><br>
The OpenSearch description shall contain a 'Url' element that describes an HTTP URI for the OpenSearch Description document. The value of the 'rel' attribute of this element shall be "self", the value of the 'type' attribute shall be "application/opensearchdescription+xml" and the value of the 'template' attribute shall be the HTTP URI of the document.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_generic_search_template">5.4.2. OpenSearch Description: Generic search template</h4>
<div class="paragraph">
<p>A generic search template shall be supplied for browser integration.</p>
</div>
<div class="paragraph">
<p>It enables search clients like Internet Explorer or Firefox to integrate the download service as an additional search engine.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image9.png" alt="image" width="605" height="265">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 8. Download service integrated as a search engine in Internet Explorer</strong></p>
</div>
<div class="paragraph">
<p>The availability of an OpenSearch engine can be advertised in an html page by adding a link element similar to the following one to the HEAD section of the html page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;link rel="search" type="application/opensearchdescription+xml" title="CCM2" href="view-source:http://inspire-geoportal.ec.europa.eu/demos/ccm/opensearchdescription.xml[opensearchdescription.xml]"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The automatic detection of the OpenSearch engine has been tested for a number of popular browsers. Table 18 gives an overview of the testing results.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Browser</strong></th>
<th class="tableblock halign-left valign-top"><strong>Version tested</strong></th>
<th class="tableblock halign-left valign-top"><strong>Platform</strong></th>
<th class="tableblock halign-left valign-top"><strong>Requires plugin</strong></th>
<th class="tableblock halign-left valign-top"><strong>Comments</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Explorer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firefox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Safari</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.0.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic detection of the OpenSearch engine has been successfully tested with the plugin OpenSearchForSafari</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chrome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The OpenSearch engine is automatically discovery only if the html page is at the root of the web site domain</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 18: Testing of the detection of the OpenSearch engine in the most popular browsers</strong></p>
</div>
<div class="paragraph">
<p><strong><em>Example 37: Example generic URL search template</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">	&lt;!--Generic URL template for browser integration--&gt;
	&lt;Url type="text/html" rel="results" template="http://xyz.org/search.php?q={searchTerms}"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 41</strong><br>
The OpenSearch description shall contain a 'Url' element that describes a template URL for generic search queries. The value of the 'rel' attribute of this element shall be "results", the value of the 'type' attribute shall be "text/html".</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_describe_spatial_data_set_operation_template">5.4.3. OpenSearch Description: Describe Spatial Data Set Operation template</h4>
<div class="paragraph">
<p>A search template shall be supplied that provides the request mechanism for a Describe Spatial Data Set Operation.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 38: Example Describe Spatial Data Set template</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!--Describe Spatial Data Set Operation request URL template to be used in order to retrieve the description of Spatial Object Types in a Spatial Dataset--&gt;
&lt;Url type="application/atom+xml" rel="describedby" template="http://xyz.org/search.php?spatial_dataset_identifier_code={inspire_dls:spatial_dataset_identifier_code?}&amp;amp;spatial_dataset_identifier_namespace={inspire_dls:spatial_dataset_identifier_namespace?}&amp;amp;language={language?}&amp;amp;q={searchTerms?}"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 42</strong><br>
The OpenSearch description shall contain a 'Url' element that describes a template URL for the Describe Spatial Data Set operation. This template shall accept the INSPIRE parameters "spatial_dataset_identifier_code", "spatial_dataset_identifier_namespace" and the OpenSearch "language" parameter. The 'Url' element shall have an attribute 'type' with a value of "application/atom+xml", "application/xml" or "text/xml" and an attribute 'rel' with the value "describedby".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Describe Spatial Data Set response shall be the description of the Spatial Objects in the requested Spatial Dataset and in the requested language. i.e. it shall be the relevant atom "Dataset Feed" corresponding to the specified spatial_dataset_identifier_code, spatial_dataset_identifier_namespace and language.</p>
</div>
<div class="paragraph">
<p>In a machine-to-machine interaction, if a client wants to issue a Describe Spatial Data Set request, it will read the Open Search document, extract the 'Url' element with the attributes rel="describedby" and type="application/xml". It will then replace the template arguments with the actual values for the Spatial Dataset Identifier code and namespace, and language.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 39: Using an OpenSearch template for building a Describe Spatial Data Set request</em></strong></p>
</div>
<div class="paragraph">
<p><em>If a client is looking for the description of the Spatial Data Set identified by the code "mycode" and the namespace "mynamespace" in the English language, the following template:</em></p>
</div>
<div class="paragraph">
<p><a href="http://xyz.org/search.php?spatial_dataset_identifier_code=%7binspire_dls:spatial_dataset_identifier_code?%7d&amp;spatial_dataset_identifier_namespace=%7binspire_dls:spatial_dataset_identifier_namespace?%7d&amp;language=%7blanguage?%7d&amp;q=%7bsearchTerms?%7d">http://xyz.org/search.php?spatial_dataset_identifier_code=\{inspire_dls:spatial_dataset_identifier_code?}&amp;spatial_dataset_identifier_namespace=\{inspire_dls:spatial_dataset_identifier_namespace?}&amp;language=\{language?}&amp;q=\{searchTerms?}</a></p>
</div>
<div class="paragraph">
<p><em>will be used to form the actual URL as follows:</em></p>
</div>
<div class="paragraph">
<p><a href="http://xyz.org/search.php?spatial_dataset_identifier_code=mycode&amp;spatial_dataset_identifier_namespace=mynamespace&amp;language=eng" class="bare">http://xyz.org/search.php?spatial_dataset_identifier_code=mycode&amp;spatial_dataset_identifier_namespace=mynamespace&amp;language=eng</a></p>
</div>
<div class="paragraph">
<p><em>The response will be the appropriate data set atom feed.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_get_spatial_data_set_operation_template">5.4.4. OpenSearch Description: Get Spatial Data Set Operation template</h4>
<div class="paragraph">
<p>A search template shall be supplied that provides the request mechanism for a Get Spatial Data Set Operation.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 40: Example Get Spatial Data Set template</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!--Get Spatial Data Set Operation request URL template to be used in order to retrieve a Spatial Data Set--&gt;
	&lt;Url type="application/x-filegdb" rel="results" template="http://xyz.org/search.php?spatial_dataset_identifier_code={inspire_dls:spatial_dataset_identifier_code?}&amp;amp;spatial_dataset_identifier_namespace={inspire_dls:spatial_dataset_identifier_namespace?}&amp;amp;crs={inspire_dls:crs?}&amp;amp;language={language?}&amp;amp;q={searchTerms?}"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 43</strong><br>
The OpenSearch description shall contain a 'Url' element that describes a template URL for the Get Spatial Data Set operation. This template shall accept the INSPIRE parameters "crs", "spatial_dataset_identifier_code", "spatial_dataset_identifier_namespace" and the OpenSearch "language" parameter. The 'Url' element shall have an attribute 'type' with a value corresponding to the media type of the result and an attribute 'rel' with the value "results".</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a dataset is not downloadable as a single file, but is a multipart dataset, then the OpenSearch result for the Get Spatial Dataset operation allows for multiple results to be returned.</p>
</div>
<div class="paragraph">
<p>In order to avoid an HTTP multipart response, which is not supported by browsers and would require specific clients, the Get Spatial Dataset operation shall return an Atom feed containing the links to the files to be downloaded instead of the files themselves as in the following example.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 41: OpenSearch URL template returning an Atom feed</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">   &lt;Url type=" application/atom+xml " rel="results" template="http://xyz.org/search.php?spatial_dataset_identifier_code={inspire_dls:spatial_dataset_identifier_code?}&amp;amp;spatial_dataset_identifier_namespace={inspire_dls:spatial_dataset_identifier_namespace?}&amp;amp;crs={inspire_dls:crs?}&amp;amp;language={language?}&amp;amp;q={searchTerms?}"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_spatial_dataset_identifiers">5.4.5. OpenSearch Description: Spatial Dataset Identifiers</h4>
<div class="paragraph">
<p>Available Spatial Dataset Identifiers shall be indicated using the OpenSearch "example" query mechanism.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 42: Example Get Spatial Data Set template</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!--List of available Spatial Dataset Identifiers --&gt;
	&lt;Query role="example" inspire_dls:spatial_dataset_identifier_namespace="http://xyz.org/" inspire_dls:spatial_dataset_identifier_code="waternetwork" inspire_dls:crs="http://www.opengis.net/def/crs/EPSG/0/4326" language="en" title="Waternetwork_abc" count="1"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 44</strong><br>
For each dataset available the OpenSearch description shall contain a 'Query' element that has a 'role' attribute with the value "example" and 'spatial_dataset_identifier_code' and 'spatial_dataset_identifier_namespace' attributes together containing unique spatial dataset identifier. The value of the 'crs' and 'language' attributes shall be set to the values considered as the default ones by the service provider.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Get Spatial Data Set response shall be the file corresponding to the specified spatial_dataset_identifier_code, spatial_dataset_identifier_namespace, crs and language, as declared in the relevant atom "Dataset Feed".</p>
</div>
</div>
<div class="sect3">
<h4 id="_opensearch_description_available_languages">5.4.6. OpenSearch Description: Available Languages</h4>
<div class="paragraph">
<p>The languages supported by the service shall be indicated in the OpenSearch description. The first language in the list is the default language.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 43 Example Language support</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">	&lt;!-- Supported Languages, Default Language --&gt;
	&lt;!--Languages supported by the service. The first language is the Default Language--&gt;
	&lt;Language&gt;en&lt;/Language&gt;
	&lt;Language&gt;de&lt;/Language&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 45</strong><br>
For each language supported by the download service, the OpenSearch description shall contain a 'Language element that contains the language code. The first 'Language' element shall contain the Default Language.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_feature_service_and_filter_encoding_implementation_of_pre_defined_dataset_download_service">6. Web Feature Service and Filter Encoding Implementation of Pre-defined Dataset Download Service</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">📘</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Conformance Class 2: Pre-defined WFS:</strong><br>
Implement Pre-Defined Dataset Download Service ("Part A") using ISO 19142 Web Feature Service and 19143 Filter Encoding.</p>
</div>
<div class="paragraph">
<p><em>This conformance class is inclusive of:</em></p>
</div>
<div class="paragraph">
<p><em>TG Requirement 46 to</em> <em>TG Requirement 60</em></p>
</div>
<div class="paragraph">
<p><em>TG Recommendation 14 to</em> <em>TG Recommendation 15</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An alternative way to implement pre-defined dataset download services is by deploying an ISO 19142 Web Feature Service [<strong>ISO 19142</strong>] supporting ISO 19143 Filter Encoding [<strong>ISO 19143</strong>] in line with the Technical Guidance contained in this chapter. Rather than repeat large parts of the WFS and FE specifications in this document, references are made to conformance classes from the WFS and FE specifications which shall be implemented. Where additional functionality is required, as is the case with multi-lingual requirements then this is described below.</p>
</div>
<div class="paragraph">
<p><em>Note that ISO 19142 is also known as OGC Web Feature Service 2.0 and ISO 19143 is also known as OGC Filter Encoding 2.0</em></p>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19142_simple_wfs_conformance_class">6.1. Conformance to ISO 19142 'Simple WFS' Conformance Class</h3>
<div class="paragraph">
<p>In order to implement pre-defined access using ISO 19142 WFS and ISO 19143 FE it is necessary to conform to the 'Simple WFS' conformance classes as described in the 19142 standard [<strong>ISO 19142</strong>].</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 46</strong><br>
Implementations shall conform to ISO 19142 Conformance Class 'Simple WFS'</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_query_conformance_class">6.2. Conformance to ISO 19143 'Query' Conformance Class</h3>
<div class="paragraph">
<p>In order to implement pre-defined download services using ISO 19142 WFS and ISO 19143 FE it is necessary to conform to the 'Query' conformance classes as described in the 19143 standard [<strong>ISO 19143</strong>].</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 47</strong><br>
Implementations shall conform to ISO 19143 Conformance Class 'Query'</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19142_http_get_conformance_class">6.3. Conformance to ISO 19142 'HTTP GET' Conformance Class</h3>
<div class="paragraph">
<p>In order to implement pre-defined download services using ISO 19142 WFS and ISO 19143 FE it is necessary to conform to the 'HTTP GET' conformance classes as described in the 19142 standard [<strong>ISO 19142</strong>].</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 48</strong><br>
Implementations shall conform to ISO 19142 Conformance Class 'HTTP Get'</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_stored_query_support">6.4. Stored Query Support</h3>
<div class="paragraph">
<p>ISO 19142 describes the use of pre-defined stored queries in WFS to access features via a Web Feature Service. To enable the download of pre-defined datasets it is necessary to provide some pre-defined stored queries to access the pre-defined datasets.</p>
</div>
<div class="paragraph">
<p>ISO 19142 describes the operations ListStoredQueries and DescribeStoredQueries. The former is used to retrieve a list of stored queries that are available and the latter is used to request more information about a particular stored query (or queries) such as the parameter arguments that are required to make a GetFeature request using the stored query.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 49</strong><br>
Pre-defined Stored Queries shall be provided to make pre-defined datasets available.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Any implementation shall ensure that all possible (i.e. available) combinations of CRS/DataSetIdCode/ DataSetIdNamespace/language should be available through a pre-defined stored query.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 50</strong><br>
Any possible (i.e. available) combinations of CRS/DataSetIdCode/ DataSetIdNamespace/language shall be made available through pre-defined stored queries.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Every instance of a WFS-based pre-defined dataset download service should define only one Stored Query for serving pre-defined Spatial Data Sets in order to make it easier for clients who already know the identifier of the Stored Query.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 13</strong><br>
The following identifier should be used to identify the Stored Query for serving pre-defined Spatial Data Sets: <a href="http://inspire.ec.europa.eu/operation/download/GetSpatialDataSet" class="bare">http://inspire.ec.europa.eu/operation/download/GetSpatialDataSet</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The parameter names for the arguments of the Stored Query shall be consistent as proposed in the following requirement:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 51</strong><br>
Pre-defined Stored Queries shall use the parameter names "CRS", "DataSetIdCode", "DataSetIdNamespace" and "Language" to identify the CRS, dataset ID code, dataset ID namespace and language components of a query.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example the following stored query takes arguments for the parameters DataSetIdCode (mycode), DatasetIdNamespace (mynamespace), CRS (EPSG:4326) and Language (English).</p>
</div>
<div class="paragraph">
<p><strong><em>Example 44: Custom stored query requesting a dataset by ID and CRS (informative only)</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">http://www.myinspirewfs.com/request=getFeature&amp;storedquery_id= http://inspire.ec.europa.eu/operation/download/GetSpatialDataSet &amp;DataSetIdCode=mycode&amp;DataSetIdNamespace=mynamespace&amp;CRS=EPSG:4326&amp;Language=eng</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beyond these four mandated parameter names this Technical Guidance does not place any requirements on other parameter names as they may be dataset specific.</p>
</div>
</div>
<div class="sect2">
<h3 id="_inspire_datasets_and_wfs_features">6.5. INSPIRE Datasets and WFS Features</h3>
<div class="paragraph">
<p>WFS is designed around the feature paradigm (spatial objects in INSPIRE terminology). There is no concept of 'datasets', only a single data store that contains the features. Therefore, it is common practice that a separate WFS 'endpoint' is provided for each dataset. An endpoint in this context means the base URL of the WFS service i.e. the URL to which a GetCapabilities request is made.</p>
</div>
<div class="paragraph">
<p>i.e: for a WFS service that can be called as follows:<br>
<a href="http://my-wfs.com/mydata?request=getCapabilities&amp;service=WFS&amp;&#8230;&#8203" class="bare">http://my-wfs.com/mydata?request=getCapabilities&amp;service=WFS&amp;&#8230;&#8203</a>;</p>
</div>
<div class="paragraph">
<p>The endpoint in this context would be:</p>
</div>
<div class="paragraph">
<p><a href="http://my-wfs.com/mydata" class="bare">http://my-wfs.com/mydata</a></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 52</strong><br>
A separate WFS endpoint shall be provided for each INSPIRE dataset thus providing one dataset per GetCapabilities response.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_publishing_inspire_metadata_using_owsextendedcapabilities">6.6. Publishing INSPIRE metadata using ows:ExtendedCapabilities</h3>
<div class="paragraph">
<p>In order to make the Download Service INSPIRE metadata elements available via a standard WFS it is necessary to use ows:ExtendedCapabilites in the WFS capabilities response and publish the INSPIRE metadata according to an extension schema within an <em>inspire_dls:ExtendedCapabilities</em> element. The INSPIRE extension schema and example instance documents can be found at: <a href="http://inspire.ec.europa.eu/schemas/inspire_dls/" class="bare">http://inspire.ec.europa.eu/schemas/inspire_dls/</a></p>
</div>
<div class="paragraph">
<p>The schema document itself is at <a href="http://inspire.ec.europa.eu/schemas/inspire_dls/1.0/inspire_dls.xsd" class="bare">http://inspire.ec.europa.eu/schemas/inspire_dls/1.0/inspire_dls.xsd</a></p>
</div>
<div class="paragraph">
<p>There are two possible options that may be used and it is up to the implementing Member State to decide which is more appropriate according to need.</p>
</div>
<div class="paragraph">
<p>The first option is to use the ows:ExtendedCapabilities to publish a link to a Download Service metadata record. (e.g. in a discovery service). This should be done using a &lt;inspire_common:MetadataURL&gt; in the extended capabilities section.</p>
</div>
<div class="paragraph">
<p>The second option is to publish all the metadata elements directly in the WFS capabilities (and ows:ExtendedCapabilities) using the mapping in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>INSPIRE Metadata elements</strong></p>
</div>
<div class="paragraph">
<p><strong>(Mandatory - Conditional)</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>ISO 19142 elements of</strong></p>
</div>
<div class="paragraph">
<p><strong>&lt;WFS_Capabilities&gt;</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Title (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:ServiceIdentification/ows:Title</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Abstract (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:ServiceIdentification/ows:Abstract</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Type (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:ResourceType</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Locator (C)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:ResourceLocator</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coupled Resource (C)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wfs:MetadataURL (per feature type)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial Data Service Type (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:SpatialDataServiceType</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyword (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:Keywords/ows:Keyword; inspire_common:Keyword</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geographic Bounding Box (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:WGS84BoundingBox (Layer property)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporal Reference (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:TemporalReference</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial Resolution (C)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:ServiceIdentification/ows:Abstract</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Conformity* (M)</p>
</div>
<div class="paragraph">
<p>*refers to conformity of to the Data Specificaitons</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:Conformity</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditions for Access and Use (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:ServiceIdentification/ows:Fees</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limitations on Public Access (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ows:ServiceIdentification/ows:AccessConstraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible Organisation (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ows:ServiceProvider/ows:ProviderName</p>
</div>
<div class="paragraph">
<p>and:</p>
</div>
<div class="paragraph">
<p>ows:ServiceProvider/ows:ServiceContact/ows:ContactInfo</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Point of Contact (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:MetadataPointOfContact</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Date (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:MetadataDate</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata Language (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_common:SupportedLanguages</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique Resource Identifier (M)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>inspire_dls:SpatialDataSetIdentifier/inspire_common:Code</p>
</div>
<div class="paragraph">
<p>inspire_dls:SpatialDataSetIdentifier/inspire_common:Namespace</p>
</div>
<div class="paragraph">
<p>(ExtendedCapabilities)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 19: Mapping INSPIRE Metadata elements to ISO 19142 WFS</strong></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 53</strong><br>
INSPIRE Metadata for the Download Service shall EITHER be linked to via an &lt;inspire_common:MetadataURL&gt; in an extended capabilities section, OR the extended capabilities section shall contain all the INSPIRE Metadata for the Download Service in accordance with Table 4 and the inspire_dls:ExtendedCapabilities schema.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows an inspire_dls:ExtendedCapabilities section.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 45: Extended capabilities</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ml" data-lang="ml">&lt;!—example extended capabilities --&gt;
&lt;ows:ExtendedCapabilities&gt;
    &lt;inspire_dls:ExtendedCapabilities&gt;
        &lt;inspire_common:ResourceLocator&gt;
            &lt;inspire_common:URL&gt;test&lt;/inspire_common:URL&gt;
        &lt;/inspire_common:ResourceLocator&gt;
        &lt;inspire_common:ResourceType&gt;service&lt;/inspire_common:ResourceType&gt;
        &lt;inspire_common:TemporalReference/&gt;
        &lt;inspire_common:Conformity&gt;
            &lt;inspire_common:Specification&gt;
                &lt;inspire_common:Title&gt;Please enter a
                    title&lt;/inspire_common:Title&gt;
                &lt;inspire_common:DateOfPublication&gt;0000-01-01&lt;/inspire_common:DateOfPublication&gt;
            &lt;/inspire_common:Specification&gt;
            &lt;inspire_common:Degree&gt;notEvaluated&lt;/inspire_common:Degree&gt;
        &lt;/inspire_common:Conformity&gt;
        &lt;inspire_common:MetadataPointOfContact&gt;
            &lt;inspire_common:OrganisationName/&gt;        &lt;inspire_common:EmailAddress&gt;someone@somewhere.org&lt;/inspire_common:EmailAddress&gt;
        &lt;/inspire_common:MetadataPointOfContact&gt;
        &lt;inspire_common:MetadataDate&gt;0000-01-01&lt;/inspire_common:MetadataDate&gt;        &lt;inspire_common:SpatialDataServiceType&gt;view&lt;/inspire_common:SpatialDataServiceType&gt;
        &lt;inspire_common:MandatoryKeyword&gt;            &lt;inspire_common:KeywordValue&gt; infoFeatureAccessService &lt;/inspire_common:KeywordValue&gt;
        &lt;/inspire_common:MandatoryKeyword&gt;
        &lt;inspire_common:SupportedLanguages&gt;
            &lt;inspire_common:DefaultLanguage&gt;
                &lt;inspire_common:Language&gt;pol&lt;/inspire_common:Language&gt;
            &lt;/inspire_common:DefaultLanguage&gt;
            &lt;inspire_common:SupportedLanguage&gt;
                &lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
            &lt;/inspire_common:SupportedLanguage&gt;
        &lt;/inspire_common:SupportedLanguages&gt;
        &lt;inspire_common:ResponseLanguage&gt;
            &lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
        &lt;/inspire_common:ResponseLanguage&gt;
        &lt;inspire_dls:SpatialDataSetIdentifier&gt;
            &lt;inspire_common:Code&gt;mycode&lt;/inspire_common:Code&gt;            &lt;inspire_common:Namespace&gt;http://myuri.org&lt;/inspire_common:Namespace&gt;
        &lt;/inspire_dls:SpatialDataSetIdentifier&gt;
        &lt;inspire_dls:SpatialDataSetIdentifier&gt;
            &lt;inspire_common:Code&gt;mycode2&lt;/inspire_common:Code&gt;            &lt;inspire_common:Namespace&gt;http://myuri.org&lt;/inspire_common:Namespace&gt;
        &lt;/inspire_dls:SpatialDataSetIdentifier&gt;
    &lt;/inspire_dls:ExtendedCapabilities&gt;
&lt;/ows:ExtendedCapabilities&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_language_requirements_for_wfsfe_implementation_of_pre_defined_download">6.7. Language Requirements for WFS/FE Implementation of Pre-defined Download.</h3>
<div class="paragraph">
<p>Language requirements for Network Services were introduced in Section 4.3 and are expanded upon here as TG Requirements for the Pre-defined WFS Conformance Class:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 54</strong><br>
A network service [Download Service] metadata response shall contain a list of the natural languages supported by the service. This list shall contain one or more languages that are supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 55</strong><br>
A client may specify a specific language in a request. If the requested language is contained in the list of supported languages, the natural language fields of the service response shall be in the requested language. It the requested language is not supported by the service, then this parameter shall be ignored.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To meet these requirements using 19142 WFS it is necessary to extend some operations of the WFS as follows:</p>
</div>
<div class="sect3">
<h4 id="_getcapabilities_operation_language_requirements">6.7.1. GetCapabilities-Operation (language requirements)</h4>
<div class="paragraph">
<p><strong>GetCapabilities-Request:</strong></p>
</div>
<div class="paragraph">
<p>The HTTP/GET binding of the GetCapabilities-Operation is extended by an additional parameter that indicates the client&#8217;s preferred language.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 56</strong><br>
The name of this parameter shall be "LANGUAGE". The parameter values are based on ISO 639-2/B alpha 3 codes as used in [<strong>INS MDTG</strong>].</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 15%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Parameter Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Parameter Value</strong></th>
<th class="tableblock halign-left valign-top"><strong>Mandatory for a Client Request?</strong></th>
<th class="tableblock halign-left valign-top"><strong>Mandatory support by the Service?</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LANGUAGE</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Codelist (See ISO/TS 19139) based on alpha-3 codes of ISO 639-2.</p>
</div>
<div class="paragraph">
<p>Use only three-letter codes from in ISO 639-2/B (bibliographic codes),</p>
</div>
<div class="paragraph">
<p>The list of codes for the 24 official EU languages and the languages of the EFTA Countries is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bulgarian – <strong>bul</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Italian – <strong>ita</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Czech – <strong>cze</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latvian – <strong>lav</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Danish – <strong>dan</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liechenstein– <strong>ger</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dutch – <strong>dut</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lithuanian – <strong>lit</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">English – <strong>eng</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maltese – <strong>mlt</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Polish – <strong>pol</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Norwegian – <strong>nor</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estonian – <strong>est</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portuguese – <strong>por</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finnish – <strong>fin</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Romanian – <strong>rum</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">French – <strong>fre</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Romansh - <strong>roh</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">German – <strong>ger</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slovak – <strong>slo</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greek – <strong>gre</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slovenian – <strong>slv</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hungarian – <strong>hun</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spanish – <strong>spa</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Irish – <strong>gle</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swedish – <strong>swe</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Croatian - <strong>hrv</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Icelandic – <strong>ice</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The complete list of codes is defined at</p>
</div>
<div class="paragraph">
<p><a href="http://www.loc.gov/standards/iso639-2/" class="bare">http://www.loc.gov/standards/iso639-2/</a></p>
</div>
<div class="paragraph">
<p>Regional languages are also included in this list.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, it is optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, it is mandatory to be supported and shall be processed if the parameter is present in a client&#8217;s request with a supported language code. If the parameter is absent in a client&#8217;s request or it requested an unsupported language the service shall response in the service default language.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 20: Language parameter</strong></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Schema</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[OCG-GetCapabilities-Request]&amp;LANGUAGE=&lt;ISO 639-2/B alpha 3 code&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>http://inspire.network.service.example/service?SERVICE=[...]&amp;VERSION=[...]&amp;LANGUAGE=eng</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>GetCapabilities-Response:</strong></p>
</div>
<div class="paragraph">
<p>If a client request specifies a supported language the following fields of the GetCapabilties-Response are affected:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Titles</p>
</li>
<li>
<p>Abstracts</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 57</strong><br>
If a client request specifies an unsupported language, or the parameter is absent in the request, the above fields [Title, Abstract] shall be provided in the service default language.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This behaviour ensures backwards compatibility so that any existing clients may interact with the service using the default OGC standard.</p>
</div>
<div class="paragraph">
<p><strong>Extended Capabilities</strong></p>
</div>
<div class="paragraph">
<p>To advertise the supported languages the service shall respond to GetCapabilites requests with Extended Capabilities as follows:</p>
</div>
<div class="paragraph">
<p><strong><em>Example 46: Extended Capabilities structure</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">...
	&lt;ows:OperationsMetadata&gt;
	...
		&lt;ows:ExtendedCapabilities&gt;
			...
			&lt;inspire_dls:ExtendedCapabilities&gt;
				&lt;inspire_common:MetadataUrl&gt;
					&lt;inspire_common:URL&gt;http://www.csw.de&lt;/inspire_common:URL&gt;
				&lt;/inspire_common:MetadataUrl&gt;
				&lt;inspire_common:SupportedLanguages&gt;
					&lt;inspire_common:DefaultLanguage&gt;
						&lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
					&lt;/inspire_common:DefaultLanguage&gt;
				&lt;/inspire_common:SupportedLanguages&gt;
				&lt;inspire_common:ResponseLanguage&gt;
					&lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
				&lt;/inspire_common:ResponseLanguage&gt;
			&lt;/inspire_dls:ExtendedCapabilities&gt;
			...
		&lt;/ows:ExtendedCapabilities&gt;
	...
	&lt;/ows:OperationsMetadata&gt;
...</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 58</strong><br>
The Extended Capabilities shall indicate the response language used for the GetCapabilities-Response: Depending on the requested language the value of the &lt;inspire_common:ResponseLanguage&gt; corresponds to the current used language. If a supported language was requested, &lt;inspire_common:ResponseLanguage&gt; shall correspond to that requested language. If an unsupported language was requested or if no specific language was requested &lt;inspire_common:ResponseLanguage&gt; shall correspond to the service default language &lt;inspire_common:DefaultLanguage&gt;</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 59</strong><br>
The Extended Capabilities shall contain the <strong>list of supported languages</strong> indicated in &lt;inspire_common:SupportedLanguages&gt;.</p>
</div>
<div class="paragraph">
<p>This <strong>list of supported languages</strong> shall consist of<br>
1. exactly one element &lt;inspire_common:DefaultLanguage&gt; indicating the service default language, and<br>
2. zero or more elements &lt;inspire_common:SupportedLanguage&gt; to indicate all additional supported languages.</p>
</div>
<div class="paragraph">
<p>Regardless of the response language, the <strong>list of supported languages</strong> is invariant for each GetCapabilities-Response.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 60</strong><br>
The Extended Capabilities shall use the XML Schema as defined in the INSPIRE online schema repository.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="paragraph">
<p>A service supports French and English and the service default language is French:</p>
</div>
<div class="paragraph">
<p><strong><em>Example 47: Response to [OGC-GetCapabilities-Request]&amp;LANGUAGE=eng</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;inspire_dls:ExtendedCapabilities&gt;
	&lt;inspire_common:SupportedLanguages&gt;
		&lt;inspire_common:DefaultLanguage&gt;
			&lt;inspire_common:Language&gt;fre&lt;/inspire_common:Language&gt;
		&lt;/inspire_common:DefaultLanguage&gt;
		&lt;inspire_common:SupportedLanguage&gt;
			&lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
		&lt;/inspire_common:SupportedLanguage&gt;
	&lt;/inspire_common:SupportedLanguages&gt;
	&lt;inspire_common:ResponseLanguage&gt;
		&lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
	&lt;/inspire_common:ResponseLanguage
…
&lt;/inspire_dls:ExtendedCapabilities&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Example 48: Response to [OGC-GetCapabilities-Request] or [OGC-GetCapabilities-Request]&amp;LANGUAGE=fre</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;inspire_dls:ExtendedCapabilities&gt;
…
	&lt;inspire_common:SupportedLanguages&gt;
		&lt;inspire_common:DefaultLanguage&gt;
			&lt;inspire_common:Language&gt;fre&lt;/inspire_common:Language&gt;
		&lt;/inspire_common:DefaultLanguage&gt;
		&lt;inspire_common:SupportedLanguage&gt;
			&lt;inspire_common:Language&gt;eng&lt;/inspire_common:Language&gt;
		&lt;/inspire_common:SupportedLanguage&gt;
	&lt;/inspire_common:SupportedLanguages&gt;
	&lt;inspire_common:ResponseLanguage&gt;
		&lt;inspire_common:Language&gt;fre&lt;/inspire_common:Language&gt;
	&lt;/inspire_common:ResponseLanguage&gt;
…
&lt;/inspire_dls:ExtendedCapabilities&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A service supports only German:</p>
</div>
<div class="paragraph">
<p><strong><em>Example 49: Response to any GetCapabilities-Request (only German supported)</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;inspire_dls:ExtendedCapabilities&gt;
…
	&lt;inspire_common:SupportedLanguages&gt;
		&lt;inspire_common:DefaultLanguage&gt;
			&lt;inspire_common:Language&gt;ger&lt;/inspire_common:Language&gt;
		&lt;/inspire_common:DefaultLanguage&gt;
	&lt;/inspire_common:SupportedLanguages&gt;
	&lt;inspire_common:ResponseLanguage&gt;
		&lt;inspire_common:Language&gt;ger&lt;/inspire_common:Language&gt;
	&lt;/inspire_common:ResponseLanguage&gt;
…
&lt;/inspire_dls:ExtendedCapabilities&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_common_concept_for_other_operations_optional">6.7.2. Common concept for other operations (optional)</h4>
<div class="paragraph">
<p>Although further multilingual support is not required for INSPIRE Network Services, it may be desired by a service provider to implement further multilingual support such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>multilingual error messages</p>
</li>
<li>
<p>multilingual support for additional Operations including HTTP/POST- and HTTP/GET-Binding</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For that reason a further implementation concept for multilingual aspects is recommended as follows:</p>
</div>
<div class="paragraph">
<p>The recommended INSPIRE Extension described before already provides language specific capabilities for a service.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 14</strong><br>
For further language support for other operations it is recommended to replace the operation-online-resources in each language specific GetCapabilities-Response by a specific operation-online-resource for that language. To support the additional operation-online-resources the service shall listen at the language specific operation end-points to distinguish for the requested languages.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An example of this behaviour is given below, showing how to extend the WFS.getCapabilities() operation to support multilingual error messages.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>The client sends the initial Request for Capabilities: [OCG-GetCapabilities-Request]</p>
</li>
<li>
<p>The service responses with extended Capabilities including the supported Languages:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong><em>Example 50: Service response including supported languages</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;inspire_dls:ExtendedCapabilities&gt;
…

&lt;inspire_common:SupportedLanguages&gt;
  &lt;inspire_common:DefaultLanguage&gt;fre&lt;/inspire_common:DefaultLanguage&gt;
  &lt;inspire_common:SupportedLanguage&gt;eng&lt;/inspire_common:SupportedLanguage&gt;
  &lt;inspire_common:SupportedLanguage&gt;dut&lt;/inspire_common:SupportedLanguage&gt;
  &lt;inspire_common:ResponseLanguage&gt;eng&lt;/inspire_common:ResponseLanguage&gt;
&lt;/inspire_common:SupportedLanguages&gt;
…
&lt;/inspire_dls:ExtendedCapabilities&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>The Client sends a language specific request for capabilities<br>
[OCG-GetCapabilities-Request]&amp;LANGUAGE=eng</p>
</li>
<li>
<p>The service response with language specific capabilities containing:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>translated natural language fields (titles, abstracts)</p>
</li>
<li>
<p><strong>language specific entry points</strong> for the language specific operations using this concept.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong><em>Example 51: Response to [OCG-GetCapabilities-Request]&amp;LANGUAGE=eng<br>
or [OCG-GetCapabilities-Request]</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;WFS_Capabilities&gt; […]
  &lt;ows:OperationsMetadata&gt;
    &lt;ows:Operation name="GetFeature"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Get xlink:type="simple" xlink:href="http://someHOST.example/eng?”/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
    &lt;/ows:Operation&gt;
    […]
  &lt;/ows:OperationsMetadata&gt;
&lt;/WFS_Capabilities&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Example 52: Response to [OCG-GetCapabilities-Request]&amp;LANGUAGE=ger</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;WFS_Capabilities&gt; […]
  &lt;ows:OperationsMetadata&gt;
    &lt;ows:Operation name="GetFeature"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Get xlink:type="simple" xlink:href="http://someHOST.example/ger?”/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
    &lt;/ows:Operation&gt;
    […]
  &lt;/ows:OperationsMetadata&gt;
&lt;/WFS_Capabilities&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>The Client sends an invalid request to either the English or the German operation endpoint.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>English operation end point:<br>
Request:<br>
<a href="http://someHOST.example/" class="bare">http://someHOST.example/</a><strong>eng</strong>? SERVICE=WFS&amp;VERSION=2.0.0&amp;REQUEST=GetFeature&amp;STOREDQUERY_ID=urn:ogc:def:query:OGC-WFS::GetFeatureById&amp;ID=[nonexistentFeatureId]</p>
</li>
<li>
<p>Response:<br>
The service responses with an exception including an English exception message: e.g. "The request is invalid. Reason is &#8230;&#8203; ".</p>
</li>
<li>
<p>German operation end point:<br>
Request: <a href="http://someHOST.example/" class="bare">http://someHOST.example/</a><strong>ger</strong>? SERVICE=WFS&amp;VERSION=2.0.0&amp;REQUEST=GetFeature&amp;STOREDQUERY_ID=urn:ogc:def:query:OGC-WFS::GetFeatureById&amp;ID=[nonexistentFeatureId]</p>
</li>
<li>
<p>Response: The service responses with an exception including a German exception message: e.g. "Die Anfrage ist fehlerhaft aufgrund &#8230;&#8203;".</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_language_support_in_ows">6.7.3. Language support in OWS</h4>
<div class="paragraph">
<p>With the on-going development of OWS Common it is expected that future versions of OGC Standards will include language support. For specific technical reasons, the concepts used for OWS common are not suitable to extend the current standards. However, with the availability of future versions of the OGC base standards the recommended approach to support multilingualism may need to be revisited.</p>
</div>
<div class="paragraph">
<p>IETF RFC 4646 is supported by OGC standards relying upon OWS 1.1.0.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 15</strong><br>
The support of IETF RFC 4646 is recommended wherever the support of ISO/639 B alpha3 for languages infringes the conformity with the standard used for implementing the [INS NS].</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO639/B alpha 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IETF RFC 5646 short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IETF RFC 5646 long</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bul</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bg-BG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cze</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cs-CZ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">da</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">da-DK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nl-NL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eng</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">en</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">en-GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">est</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">et</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">et-EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fi-FI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fr-CH, fr-FR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">de</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">de-AT, de-CH, de-DE, de-LI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">el</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">el-GR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hrv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hr-HR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hu-HU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ga</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ga-IE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is-IS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ita</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">it-CH, it-IT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lav</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lv-LV</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lt-LT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mlt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mt-MT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no-NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pl-PL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">por</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pt-PT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rm-CH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ro-RO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">slo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sk-SK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">slv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sl-SI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">es</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">es-ES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">swe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sv-SE</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 21: Mapping between ISO 639/B alpha 3 and the two forms of IETF RFC 4646 supported by OWS 1.1.0</strong></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_feature_service_and_filter_encoding_implementation_of_direct_access_download_service">7. Web Feature Service and Filter Encoding implementation of Direct Access Download Service.</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">📘</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Conformance Class 3: Direct WFS:</strong><br>
Implement Direct Access Download Service ("Parts B &amp; C") using ISO 19142 Web Feature Service and ISO 19143 Filter Encoding.</p>
</div>
<div class="paragraph">
<p><em>This conformance class is inclusive of:</em></p>
</div>
<div class="paragraph">
<p><em>TG Requirement 61 to</em> <em>TG Requirement 68</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Direct Access download services (that satisfy Parts B and C of the IR) should be implemented where practicable. This may be done using ISO 19142 WFS [<strong>ISO 19142</strong>] and ISO 19143 Filter Encoding [<strong>ISO 19143</strong>] as described here. In order to be fully conformant with [<strong>INS NS</strong>], it is necessary to also provide an implementation satisfying Part A, either based on Atom/OpenSearch (Chapter 5) or WFS (Chapter 6).</p>
</div>
<div class="sect2">
<h3 id="_necessary_elements_from_wfs_based_pre_defined_dataset_download_service">7.1. Necessary elements from WFS-based Pre-defined dataset download service</h3>
<div class="paragraph">
<p>Direct access Download Services provide additional functionality beyond what is provided by Pre-defined Download Services. Because both Pre-defined dataset and Direct Access Download services are both based on [<strong>ISO 19142</strong>] there is an overlap of requirements for both types of solutions ensuring the ability to exist independent of each other.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 61</strong><br>
Implementations shall meet TG Requirement 48 (conformance to [<strong>ISO 19142</strong>] 'HTTP GET' conformance class) and TG Requirement 52 (one endpoint for each INSPIRE dataset).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19142_basic_wfs_conformance_class">7.2. Conformance to ISO 19142 'Basic WFS' Conformance Class</h3>
<div class="paragraph">
<p>In order to implement direct access download services using ISO 19142 WFS and ISO 19143 FE it is necessary to conform to the 'Basic WFS' conformance classes as described in the 19142 standard [<strong>ISO 19142</strong>].</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 62</strong><br>
Implementations shall conform to ISO 19142 Conformance Class 'Basic WFS'</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_ad_hoc_query_conformance_class">7.3. Conformance to ISO 19143 'Ad hoc Query' Conformance Class</h3>
<div class="paragraph">
<p>Ad hoc query support shall be implemented to enable user-defined requests for spatial objects in a WFS.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 63</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Ad hoc Query' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_resource_identification_conformance_class">7.4. Conformance to ISO 19143 'Resource Identification' Conformance Class</h3>
<div class="paragraph">
<p>The referencing of resources by identifier shall be supported as described in ISO 19143</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 64</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Resource Identification' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_minimum_standard_filter_conformance_class">7.5. Conformance to ISO 19143 'Minimum Standard Filter' Conformance Class</h3>
<div class="paragraph">
<p>Querying with Comparison and logical operators shall be supported by the Direct Access Download Services as described in ISO 19143.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 65</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Minimum Standard Filter' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_minimum_spatial_filter_conformance_class">7.6. Conformance to ISO 19143 'Minimum Spatial Filter' Conformance Class</h3>
<div class="paragraph">
<p>Spatial querying of the Download Service shall be supported by the Direct Access Download Services as described in ISO 19143.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 66</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Minimum Spatial Filter' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_minimum_temporal_filter_conformance_class">7.7. Conformance to ISO 19143 'Minimum Temporal Filter' Conformance Class</h3>
<div class="paragraph">
<p>Temporal querying of the Download Service shall be supported by the Direct Access Download Services as described in ISO 19143.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 67</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Minimum Temporal Filter' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_to_iso_19143_minimum_xpath_conformance_class">7.8. Conformance to ISO 19143 'Minimum XPath' Conformance Class</h3>
<div class="paragraph">
<p>Querying of the Download Service using XPath shall be supported by the Direct Access Download Services as described in ISO 19143.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 68</strong><br>
A Direct Access Download Service shall conform to ISO 19143 'Minimum XPath' Conformance Class.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_language_requirements_for_direct_access_download_services">7.9. Language requirements for Direct Access Download Services</h3>
<div class="paragraph">
<p>The language requirements defined in <strong>[INS NS]</strong> for Direct Access Download Services are addressed by WFS instances as described in the following sub-sections.</p>
</div>
<div class="sect3">
<h4 id="_describefeaturetype_operation_language_requirements">7.9.1. DescribeFeatureType Operation (language requirements)</h4>
<div class="paragraph">
<p>This operation as specified by ISO 19142 implements the Describe Spatial Object Type operation of [<strong>INS NS</strong>].</p>
</div>
<div class="paragraph">
<p>In the implementing rule, a language parameter is specified, but as a DescribeFeatureType operation returns a description of the spatial object types in schema language, a parameter related to a natural language is not relevant.</p>
</div>
</div>
<div class="sect3">
<h4 id="_getfeature_operation_language_requirements">7.9.2. GetFeature Operation (language requirements)</h4>
<div class="paragraph">
<p>This operation as specified by ISO 19142 implements the Get Spatial Object operation of <strong>[INS NS].</strong></p>
</div>
<div class="paragraph">
<p>In the implementing rule, a language parameter is specified, but INSPIRE application schemas are modelled in a way so that in cases where multiple languages are possible for a feature property, the values in all languages may be provided simultaneously (e.g. for geographical names). i.e., if multilingual data is provided by a download service, all languages are provided by the download service. As a result, this parameter is not applicable in practice.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wfs_metadata_for_hybrid_implementations">7.10. WFS metadata for "hybrid implementations"</h3>
<div class="paragraph">
<p>In case of a "hybrid implementation" based on Atom and WFS for Parts B and C, in addition to the Atom service, it is possible to also document the WFS service through metadata in a discovery service. In this case, the link between the Atom and WFS implementations can be established through the 'coupled resource' metadata element, which points to the same data set.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 16</strong><br>
In addition, a textual reference to the Atom service implementing part A should be included in the 'abstract' metadata element of the WFS.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quality_of_service">8. Quality of Service</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">📘</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Conformance Class 4: Quality of Service:</strong><br>
Meet Quality of Service requirements.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since quality of service (QoS) depends on the specific testing procedure for a given service, this section describes and normalizes the testing procedure that is to be applied for the assessment of QoS for a given INSPIRE download service.</p>
</div>
<div class="paragraph">
<p>The monitoring parameter NSi4 in the Commission decision for monitoring and reporting measures the conformity of all network services with the implementing rules. The conformity of a network service requires the compliance with the Quality of Service as defined in Annex I of the NS regulation (in particular NSi4,1 and NSi4,2 for the current monitoring period).</p>
</div>
<div class="sect2">
<h3 id="_general_requirements">8.1. General requirements</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two options exist for the measurements of Quality of Services:<br>
<br>
1. Quality of Services requirements are measured at the service side exposed to the Internet.<br>
<br>
2. Quality of Services requirements are measured from a central network node within the infrastructure.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Option 2 above was included for practical reasons. If a Member State uses a central network node in the testing infrastructure, it shall take into account the network transport time. For a detailed overview of the testing procedure when using a central node, see Figure 6. Based on the evaluation of experiences this option may be revisited in the future.</p>
</div>
<div class="paragraph">
<p>For feasibility reasons the testing procedure is based on the following simplifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For the transport of a small size of data over the network, the network latency can be considered as a constant value and is denoted x. So each network transport (request and response) is considered to consume the duration of x/2.</p>
<div class="ulist">
<ul>
<li>
<p>In case of option 1, x shall be set to 0.</p>
</li>
<li>
<p>In case of option 2, a member state should initiate a comparison between sample measures from the central node to sample measures at the service side, to find a realistic value of x for the specific national setting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>It is assumed that the network transport rate is not slower than the rate of the service response output stream to avoid any data jam at the production stream.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./media/image10.png" alt="image" width="461" height="321">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Figure 9: Detailed Sequence Diagram Download Service</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_performance">8.2. Performance</h3>
<div class="sect3">
<h4 id="_implementation_requirements_mandated_by_the_implementing_rule">8.2.1. Implementation requirements mandated by the Implementing Rule</h4>
<div class="paragraph">
<p><em>"For the Get Download Service Metadata operation, the response time for sending the initial response shall be maximum 10 seconds in normal situation.</em></p>
</div>
<div class="paragraph">
<p><em>For the Get Spatial Data Set operation and for the Get Spatial Object operation, and for a query consisting exclusively of a bounding box, the response time for sending the initial response shall be maximum 30 seconds in normal situation then, and still in normal situation, the download service shall maintain a sustained response greater than 0,5 Megabytes per second or greater than 500 Spatial Objects per second.</em></p>
</div>
<div class="paragraph">
<p><em>For the Describe Spatial Data Set operation and for the Describe Spatial Object Type operation, the response time for sending the initial response shall be maximum 10 seconds in normal situation then, and still in normal situation, the download service shall maintain a sustained response greater than 0,5 Megabytes per second or greater than 500 descriptions of Spatial Objects per second.</em></p>
</div>
<div class="paragraph">
<p><em>[&#8230;&#8203;]</em></p>
</div>
<div class="paragraph">
<p><em>The normal situation represents periods out of peak load. It is set at 90 % of the time."</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_normalized_testing_procedure">8.2.2. Normalized testing procedure</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 69</strong><br>
Performance shall be measured consistently based on sample reference requests to a given service. Minimum 10 reference requests per hour shall be issued to the service continuously during its lifetime during the period of testing.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To respect long running operations, the number of requests may be reduced. In such cases, a new request can be issued maximum 6 minutes after the previous request has finished.</p>
</div>
<div class="paragraph">
<p><strong><em>Example 53: Performance tests for long-running operations</em></strong></p>
</div>
<div class="paragraph">
<p><em>If a previous Get Spatial Data Set operation requesting a 1 GB data set was issued at 8:00 and lasts until 8:30, the next reference request shall be issued at the latest at 8:36.</em></p>
</div>
<div class="paragraph">
<p>NOTE The result of performance measurements in a production system may be ambiguous due to the amount of user load that the service processes at the same time and therefore it is recommended capacity tests to be processed during maintenance time frames only.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 17</strong><br>
The frequency of the performance tests is recommended to be monthly, e.g., during systems maintenance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 70</strong><br>
Performance shall be measured using the Get Download Service Metadata, Get Spatial Data Set, Get Spatial Object, Describe Spatial Data Set and Describe Spatial Object Type operations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 18</strong><br>
The structure of the sample reference request packages is recommended to be composed of: 10% Get Download Service Metadata requests, 10% Describe Spatial Data Set or Describe Spatial Object Type and 80% Get Spatial Data Set or Get Spatial Object. At least 2% of the requests should be Get Spatial Data Set.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE This composition is assumed to represent a "normal situation".</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 71</strong><br>
For Get Spatial Object operations, the sample reference request shall Contain a BBOX parameter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 72</strong><br>
If a download service serves more than one feature type, only one feature type shall be requested by a Get Spatial Object operation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 73</strong><br>
If a download service serves more than one (pre-defined) spatial data set, only one spatial data set shall be requested by a Get Spatial Data Set operation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE 1: It is assumed that the feature type or data set requested in a reference request results in a representative measure for a specific download service.</p>
</div>
<div class="paragraph">
<p>NOTE 2: For both the Get Spatial Data Set and Get Spatial Object operations, the default language and CRS shall be used.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 19</strong><br>
For Get Spatial Object operations, the sample reference request is recommended to return at least 1 MB.</p>
</div>
<div class="paragraph">
<p>For the Get Spatial Object operation, if the BBOX parameter is random it is recommended that the last 100 responses to a reference request have an average of at least 1 MB.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>According to Figure 6, the performance requirements are described by the following formulas:</p>
</div>
<div class="paragraph">
<p><strong>Initial byte:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>t<sub>first</sub> ≤ x/2 + d + x/2 = x + d</em></p>
</li>
<li>
<p><em>t<sub>first</sub> – x ≤ d</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Last byte:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>t<sub>last</sub> ≤ x/2 + d + max (y/0.5, z/500) + x/2 = x + d + max (y/0.5, z/500)</em></p>
</li>
<li>
<p><em>t<sub>last</sub> – x – d ≤ max (y/0.5, z/500)</em></p>
</li>
<li>
<p><em>y/(t<sub>last</sub> -x -d) ≥ 0.5</em> [MB/s] or <em>z/(t<sub>last</sub> -x -d) ≥ 500</em> [(objects|descriptions)/s]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where,</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>t<sub>first</sub></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the measured duration of time between initiating the request and receiving the initial byte of the response in seconds,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>t<sub>last</sub></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the measured duration of time between initiating the request and receiving the last byte of the response in seconds,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>d</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the time required to send the initial response at service side and shall be set to<br>
10 seconds (operations: Get Download Service Metadata, Describe Spatial Data Set, Describe Spatial Object Type) or 30 seconds (operations: Get Spatial Data Set, Get Spatial Object),</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the time estimated for the network latency (x=0s if measured at the service side).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>y</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the size of data in MB,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>z</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the size of data in count of objects or object descriptions</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 74</strong><br>
Evaluation and assessment criteria:</p>
</div>
<div class="paragraph">
<p>The "response time for sending the initial response" is</p>
</div>
<div class="paragraph">
<p><em>t<sub>first</sub> – x</em> and shall be maximum d (10 seconds or 30 seconds depending on operation).</p>
</div>
<div class="paragraph">
<p>The throughput of the "maintained sustained response" is</p>
</div>
<div class="paragraph">
<p><em>y/t<sub>last</sub> -x -d</em> and shall be greater than <strong>0.5 MB/s</strong> or</p>
</div>
<div class="paragraph">
<p><em>z/t<sub>last</sub> -x -d</em> and shall be greater than <strong>500 spatial objects / descriptions per second.</strong></p>
</div>
<div class="paragraph">
<p>All in normal situation, which shall be identified by the 90% best performing sample reference requests.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Example 54: Get Spatial Data Set operation</em></strong></p>
</div>
<div class="paragraph">
<p>With a network latency set to <em>x</em> = 5s, the duration <em>t<sub>first</sub></em> from issuing the request at client side till the first byte returned to the client side shall be <em>t<sub>first</sub></em> ≤ 35 seconds and the duration <em>t<sub>last</sub></em> from issuing a request at client side till the complete download (last byte returned) to the client side depends on the size of the data set and shall be according to one of the tables below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 29%;">
<col style="width: 2%;">
<col style="width: 20%;">
<col style="width: 29%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">size of data set</th>
<th class="tableblock halign-left valign-top">Maximum duration<br>
till complete download finished</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">size of<br>
data set</th>
<th class="tableblock halign-left valign-top">Maximum duration<br>
till complete download finished</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 KB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">35 s</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">35 s</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">37 s</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000 objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">37 s</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">55 s</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10,000 objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">55 s</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 min</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100,000 objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 min</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34 min</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,000,000 objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34 min</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_capacity">8.3. Capacity</h3>
<div class="sect3">
<h4 id="_implementation_requirements_mandated_by_the_implementing_rule_2">8.3.1. Implementation requirements mandated by the Implementing Rule</h4>
<div class="paragraph">
<p><em>"The minimum number of simultaneous requests to a download service to be served in accordance with the quality of service performance criteria shall be 10 requests per second. The number of requests processed in parallel may be limited to 50."</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_normalized_testing_procedure_2">8.3.2. Normalized testing procedure</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 75</strong><br>
Capacity shall be measured consistently based on sample reference request packages to a given service.</p>
</div>
<div class="paragraph">
<p>Requests shall be made to the service at the rate of 10 new requests per second, using different types of requests according to the profile of the sample reference request packages. This rate shall be sustained throughout a measurement timeframe of 1 minute. In order to provide consistent and comparable measures, the capacity test shall restrict the number of requests being processed at any one time to a maximum of 50. A measurement shall take place at least once before launching the service in a production environment and monitored at regular intervals thereof to ensure that the compliance with the capacity requirement is still ensured.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE The result of capacity measurements in a production system may be ambiguous due to the amount of user load that the service processes at the same time and therefore it is recommended capacity tests to be processed during maintenance time frames only.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 20</strong><br>
The frequency of the capacity is recommended to be monthly, e.g., during systems maintenance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 21</strong><br>
The structure of the sample reference request packages is recommended to be composed of 10% Get Download Service Metadata requests, 10% Describe Spatial Data Set or Describe Spatial Object Type and 80% Get Spatial Data Set or Get Spatial Object. At least 2% of the requests should be Get Spatial Data Set.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE This composition is assumed to represent a "normal situation".</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 76</strong><br>
The measured capacity shall fulfil the requirements of the regulation (both capacity and performance) for all operations that are provided by the service.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_availability">8.4. Availability</h3>
<div class="sect3">
<h4 id="_implementation_requirements_mandated_by_the_implementing_rule_3">8.4.1. Implementation requirements mandated by the Implementing Rule</h4>
<div class="paragraph">
<p><em>"The probability of a Network Service to be available shall be 99% of the time."</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_normalized_testing_procedure_3">8.4.2. Normalized testing procedure</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 77</strong><br>
Availability shall be measured consistently based on sample reference requests to a given service. Minimum 10 reference requests per hour shall be issued to the service continuously during its lifetime.</p>
</div>
<div class="paragraph">
<p>To respect long running operations, the number of requests may be reduced. In such cases, a new request can be issued maximum 6 minutes after the previous request has finished.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Example 55: Availability tests for long-running operations</em></strong></p>
</div>
<div class="paragraph">
<p><em>If a previous Get Spatial Data Set operation requesting a 1 GB data set was issued at 8:00 and lasts until 8:30, the next reference request shall be issued at the latest at 8:36.</em></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 22</strong><br>
The sample request issued to the service to measure performance can be used to measure availability as well, thus also fulfilling the same evaluation and assessment criteria.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">📕</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Requirement 78</strong><br>
The availability shall be based on a time frame of one year meaning a maximum unplanned downtime of 3.63 days per year. Periods of planned downtime e.g. because of system maintenance, shall not be included in the measure. Downtime is considered planned when notified to the community well in advance (minimum 1 week), e.g. via notifications to registered users or on portals.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NOTE It is assumed that the availability is calculated in the following way:</p>
</div>
<div class="paragraph">
<p>100% ↔ 365 x 24 - (planned downtime)</p>
</div>
<div class="paragraph">
<p>99% ↔ [365 x 24 - (planned downtime)] * 0.99</p>
</div>
<div class="paragraph">
<p>etc.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">📒</div>
</td>
<td class="content">
<div class="paragraph">
<p><strong>TG Recommendation 23</strong><br>
Planned downtime is recommended to be less than 10 hours per month (i.e., less than 120 hours per year).</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_opensearch_script">Annex A: Example OpenSearch script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following code shows a sample server side script to implement the search engine needed for the OpenSearch implementation. This is a simple example implementation in a particular language (PHP), however any programming language may be used for the OpenSearch implementation. <em>This example is purely informative and does not constitute a normative part of this Technical Guidance.</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">Sample PHP script for the search engine
&lt;?php
$returnFile = false;
foreach (apache_request_headers() as $name =&gt; $value) {
    //echo("$name: $value\n");
    if ($name=="Accept" &amp;&amp; $value=="application/x-filegdb"){
       $returnFile = true;
    }
}
echo ("returnFile: $returnFile");


   $q= $_GET['q'];

   $uriCode = $_GET['spatial_dataset_identifier_code'];
   if (!$uriCode)
   {
      if (!$q)
      {
      header("Location: democcmdownloadservice.atom.en.xml");
      exit;
      }
      $uriCode = $q;
   }

   $uriNamespace= $_GET['spatial_dataset_identifier_namespace'];
   $crs= $_GET['crs'];

   $language= $_GET['language'];
   if (!$language || $language == "*"){
      $language = "en";
   }

   if ($language != 'en' &amp;&amp; $language != 'it'){
      die( "Only en and it languages are supported" );
   }

   if ($uriCode == "ccm2.1_2000"){
      if ($returnFile){
         header("Location: files/CCM21_WGS84_window2000.zip");
      } else{
         header("Location: subfeed2000.atom.en.xml");
      }
      exit;
   }
   if ($uriCode == "ccm2.1_2001"){
      if ($returnFile){
         header("Location: files/CCM21_WGS84_window2001.zip");
      } else{
         header("Location: subfeed2001.atom.en.xml");
      }
      exit;
   }
   if ($uriCode == "ccm2.1_2002"){
      if ($returnFile){
         header("Location: files/CCM21_WGS84_window2002.zip");
      } else{
         header("Location: subfeed2002.atom.en.xml");
      }
      exit;
   }
   if ($uriCode == "ccm2.1_2003"){
      if ($returnFile){
         header("Location: files/CCM21_WGS84_window2003.zip");
      } else{
         header("Location: subfeed2003.atom.en.xml");
      }
      exit;
   }


   echo 'Not found';
?&gt;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_uml_atomopensearch_deployment_diagram">Annex B: UML Atom/OpenSearch Deployment Diagram</h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="./media/image11.png" alt="image" width="517" height="820">
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Mandatory/Optional/Conditional to conform with Network Services Regulation [<strong>INS NS</strong>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. the terms "Download Service Feed(s)" and "Dataset Feed(s)" are used in this chapter to differentiate between the two types of feed. However the terms have no wider meaning in INSPIRE (legally or otherwise).
</div>
</div>
</body>
</html>